{
  "version": 3,
  "sources": ["../src/js/ntg-funnelback.js", "../src/js/cta-button-alias.js", "../src/js/search-card-template.js", "../src/js/search-form-handler.js", "../src/js/load-initial-results.js", "../src/js/index.js"],
  "sourcesContent": ["// In-page Funnelback search (unminified source)\r\n\r\nconst ntgFunnelback = {\r\n  originalterm: \"\",\r\n  filteredterm: \"\",\r\n  currentPage: 1,\r\n\r\n  defaults: {\r\n    sourceField: \"#search\",\r\n    endpointURL:\r\n      \"https://ntgov-search.funnelback.squiz.cloud/s/search.json?collection=ntgov~sp-ntgc-ai-knowledge-base&s=!FunDoesNotExist:PadreNull\",\r\n    funnelbackParams: {},\r\n    minChars: 3,\r\n    containerSelector: \"#content .inner-page.au-body .container\",\r\n  },\r\n\r\n  noisewords:\r\n    \"a au all am an and any are as at be been but by can cant co com de do eg else etc for from get go had has hasnt have he hence her here hers him his how http https i ie if in is it its la me my nor not now of off on or our ours pm put re she so than that the their them then there these they this those thus to too uk un until up upon us very via was we well were what when where which while who why www you your yours\",\r\n\r\n  init: function (query, doctype, owner, corrections, scopeID = false) {\r\n    console.log(\"Init Funnelback Search\");\r\n\r\n    // Check for tags\r\n    const regex = new RegExp(\"[*<>();/&]\", \"gi\");\r\n    query = query.replace(regex, \"\");\r\n\r\n    // Perform a search immediately based on querystring?\r\n    if (query !== false) {\r\n      ntgFunnelback.originalterm = query;\r\n      ntgFunnelback.currentPage = 1;\r\n      ntgFunnelback.callSearchAPI();\r\n    }\r\n\r\n    // Submit policy search on click\r\n    $(\".search-icon\").on(\"click\", function () {\r\n      $(\"#policy-search-form\").trigger(\"submit\");\r\n    });\r\n\r\n    // Trigger search on form submission\r\n    $(\"#policy-search-form\").on(\"submit\", function (e) {\r\n      e.preventDefault();\r\n\r\n      let sourcefieldval = $(ntgFunnelback.defaults.sourceField).val();\r\n\r\n      // Check for tags\r\n      const regex = new RegExp(\"[*<>();/&]\", \"gi\");\r\n      sourcefieldval = sourcefieldval.replace(regex, \"\");\r\n      $(ntgFunnelback.defaults.sourceField).val(sourcefieldval);\r\n\r\n      ntgFunnelback.originalterm = sourcefieldval;\r\n      ntgFunnelback.currentPage = 1;\r\n      ntgFunnelback.callSearchAPI();\r\n    });\r\n  },\r\n\r\n  callSearchAPI: function () {\r\n    // Clear container while loading\r\n    $(ntgFunnelback.defaults.containerSelector).html(\"\");\r\n\r\n    // Remove noise words from the query\r\n    ntgFunnelback.filterQuery();\r\n\r\n    // Update URL only when there's a meaningful query or an explicit page change\r\n    // Avoid appending ?query=&page=1 on initial load\r\n    const hasQueryParamAlready = new URLSearchParams(\r\n      window.location.search\r\n    ).has(\"query\");\r\n    const shouldUpdateQuery =\r\n      ntgFunnelback.filteredterm &&\r\n      ntgFunnelback.filteredterm.trim().length > 0;\r\n    const shouldUpdatePage =\r\n      ntgFunnelback.currentPage && ntgFunnelback.currentPage !== 1;\r\n    if (shouldUpdateQuery || shouldUpdatePage || hasQueryParamAlready) {\r\n      const params = new URLSearchParams(window.location.search);\r\n      if (shouldUpdateQuery) {\r\n        params.set(\"query\", ntgFunnelback.filteredterm);\r\n      }\r\n      if (shouldUpdatePage) {\r\n        params.set(\"page\", ntgFunnelback.currentPage);\r\n      } else {\r\n        // Remove page param if default\r\n        params.delete(\"page\");\r\n      }\r\n      const newUrl =\r\n        window.location.pathname +\r\n        (params.toString() ? \"?\" + params.toString() : \"\");\r\n      window.history.replaceState({}, \"\", newUrl);\r\n    }\r\n\r\n    // Calculate start_rank for pagination (Funnelback uses 1-based ranking)\r\n    const startRank = (ntgFunnelback.currentPage - 1) * 10 + 1;\r\n\r\n    // Build Funnelback API URL with required parameters (direct external call)\r\n    let base = ntgFunnelback.defaults.endpointURL;\r\n    // Replace the start_rank in base with current startRank\r\n    base = base.replace(/start_rank=\\d+/, \"start_rank=\" + startRank);\r\n    // Append query and num_ranks\r\n    const fbUrl =\r\n      base +\r\n      \"&query=\" +\r\n      encodeURIComponent(ntgFunnelback.filteredterm) +\r\n      \"&num_ranks=10\";\r\n\r\n    console.log(\"Calling Funnelback API directly:\", fbUrl);\r\n\r\n    $.ajax({\r\n      url: fbUrl,\r\n      dataType: \"JSON\",\r\n      type: \"GET\",\r\n      success: function (dataset) {\r\n        ntgFunnelback.processResults(dataset);\r\n      },\r\n      error: function (xhr, status, error) {\r\n        console.warn(\"Funnelback API error, loading fallback data:\", error);\r\n        // Load fallback search.json\r\n        $.ajax({\r\n          url: \"src/data/search.json\",\r\n          dataType: \"JSON\",\r\n          type: \"GET\",\r\n          success: function (fallbackData) {\r\n            console.log(\"Loaded fallback search data\");\r\n            ntgFunnelback.processResults(fallbackData);\r\n          },\r\n          error: function () {\r\n            console.error(\"Failed to load fallback search data\");\r\n            $(ntgFunnelback.defaults.containerSelector).html(\r\n              \"<p>Unable to load search results. Please try again later.</p>\"\r\n            );\r\n          },\r\n        });\r\n      },\r\n    });\r\n  },\r\n\r\n  filterQuery: function () {\r\n    const noiseList = ntgFunnelback.noisewords.split(\" \");\r\n    const searchPhrase = ntgFunnelback.originalterm.split(\" \");\r\n\r\n    // Check for false\r\n    if (searchPhrase.length === 0) {\r\n      ntgFunnelback.filteredterm = searchPhrase;\r\n      return false;\r\n    }\r\n\r\n    const revisedPhrase = [];\r\n\r\n    $.each(searchPhrase, function (i, term) {\r\n      if ($.inArray(term, noiseList) === -1) {\r\n        revisedPhrase.push(term);\r\n      }\r\n    });\r\n\r\n    // Clean for tags\r\n    const regex = new RegExp(\"[*<>{}();/&]\", \"gi\");\r\n    let phraseAsString = revisedPhrase.join(\" \");\r\n    phraseAsString = phraseAsString.replace(regex, \"\");\r\n\r\n    ntgFunnelback.filteredterm = phraseAsString;\r\n    return;\r\n  },\r\n\r\n  processResults: function (dataset) {\r\n    // Extract results from Funnelback response structure\r\n    const results =\r\n      dataset.response && dataset.response.resultPacket\r\n        ? dataset.response.resultPacket.results\r\n        : [];\r\n\r\n    // Output JSON directly to #search-results-list\r\n    const prettyJSON = JSON.stringify(results, null, 2);\r\n    const htmlContent =\r\n      \"<pre><code>\" + htmlEscape(prettyJSON) + \"</code></pre>\";\r\n\r\n    const container = document.getElementById(\"search-results-list\");\r\n    if (container) {\r\n      container.innerHTML = htmlContent;\r\n      console.log(\"JSON output written to #search-results-list\");\r\n    } else {\r\n      console.warn(\r\n        \"#search-results-list container not found, logging results instead\"\r\n      );\r\n      console.log(\"Funnelback Results:\", results);\r\n    }\r\n\r\n    console.log(\"Funnelback Full Response:\", dataset);\r\n  },\r\n};\r\n\r\n// Helper function to escape HTML\r\nfunction htmlEscape(text) {\r\n  const map = {\r\n    \"&\": \"&amp;\",\r\n    \"<\": \"&lt;\",\r\n    \">\": \"&gt;\",\r\n    '\"': \"&quot;\",\r\n    \"'\": \"&#039;\",\r\n  };\r\n  return text.replace(/[&<>\"']/g, function (m) {\r\n    return map[m];\r\n  });\r\n}\r\n\r\n// Expose globally for legacy usage\r\nwindow.ntgFunnelback = ntgFunnelback;\r\nexport { ntgFunnelback };\r\n", "// Alias CTA anchors to reuse NTGC primary button styling\r\nconst CTA_SELECTOR = 'div[data-hydration-component=\"squiz-call-to-action\"] a';\r\n\r\nfunction applyCtaButtonAlias(root = document) {\r\n  const anchors = root.querySelectorAll(CTA_SELECTOR);\r\n  anchors.forEach((anchor) => {\r\n    anchor.classList.add(\"ntgc-btn\", \"ntgc-btn--primary\");\r\n  });\r\n}\r\n\r\nif (document.readyState === \"loading\") {\r\n  document.addEventListener(\"DOMContentLoaded\", () => applyCtaButtonAlias());\r\n} else {\r\n  applyCtaButtonAlias();\r\n}\r\n", "// Search card template generator for AI Knowledge Base results\r\n\r\n/**\r\n * Parse date string and extract \"Month YYYY\" format\r\n * @param {string} dateStr - Raw date string (e.g., \"December 2025\")\r\n * @returns {string} Formatted date or original string if parsing fails\r\n */\r\nfunction formatDate(dateStr) {\r\n  if (!dateStr) return \"\";\r\n\r\n  // If already in \"Month YYYY\" format, return as-is\r\n  const monthYearPattern = /^[A-Z][a-z]+ \\d{4}$/;\r\n  if (monthYearPattern.test(dateStr)) {\r\n    return dateStr;\r\n  }\r\n\r\n  // Try to parse as Date object\r\n  try {\r\n    const date = new Date(dateStr);\r\n    if (!isNaN(date.getTime())) {\r\n      const months = [\r\n        \"January\",\r\n        \"February\",\r\n        \"March\",\r\n        \"April\",\r\n        \"May\",\r\n        \"June\",\r\n        \"July\",\r\n        \"August\",\r\n        \"September\",\r\n        \"October\",\r\n        \"November\",\r\n        \"December\",\r\n      ];\r\n      return `${months[date.getMonth()]} ${date.getFullYear()}`;\r\n    }\r\n  } catch (e) {\r\n    // Fall through to return original\r\n  }\r\n\r\n  return dateStr;\r\n}\r\n\r\n/**\r\n * Create a search result card DOM element\r\n * @param {Object} result - Result data object\r\n * @param {string} result.title - Card title\r\n * @param {string} result.summary - Card summary/description\r\n * @param {Object} result.listMetadata - Metadata object\r\n * @param {Array<string>} result.listMetadata.keyword - Array of keywords [category, usefulFor]\r\n * @param {string} result.date - Submission date\r\n * @param {string} result.liveUrl - URL for \"See more\" button\r\n * @returns {HTMLElement|null} Card element or null if required fields missing\r\n */\r\nfunction createSearchCard(result) {\r\n  // Validate required fields\r\n  if (!result.title || !result.summary || !result.liveUrl) {\r\n    console.warn(\"Skipping card with missing required fields:\", result);\r\n    return null;\r\n  }\r\n\r\n  // Create card container\r\n  const card = document.createElement(\"div\");\r\n  card.className = \"aikb-search-card\";\r\n\r\n  // Create inner wrapper\r\n  const inner = document.createElement(\"div\");\r\n  inner.className = \"aikb-search-card__inner\";\r\n\r\n  // Create content section\r\n  const content = document.createElement(\"div\");\r\n  content.className = \"aikb-search-card__content\";\r\n\r\n  // Text section\r\n  const textSection = document.createElement(\"div\");\r\n  textSection.className = \"aikb-search-card__text\";\r\n\r\n  // Title\r\n  const title = document.createElement(\"h3\");\r\n  title.className = \"aikb-search-card__title\";\r\n  title.textContent = result.title;\r\n  textSection.appendChild(title);\r\n\r\n  // Summary\r\n  const summary = document.createElement(\"p\");\r\n  summary.className = \"aikb-search-card__summary\";\r\n  summary.textContent = result.summary;\r\n  textSection.appendChild(summary);\r\n\r\n  content.appendChild(textSection);\r\n\r\n  // Tags section (split comma-separated categories into individual tags)\r\n  const category =\r\n    result.listMetadata && result.listMetadata.keyword\r\n      ? result.listMetadata.keyword[0]\r\n      : null;\r\n  if (category) {\r\n    const tagsContainer = document.createElement(\"div\");\r\n    tagsContainer.className = \"aikb-search-card__tags\";\r\n\r\n    // Split by comma to create multiple tags if needed\r\n    const categories = category.split(\",\");\r\n    categories.forEach((cat) => {\r\n      const trimmedCat = cat.trim();\r\n      if (trimmedCat) {\r\n        const tag = document.createElement(\"div\");\r\n        tag.className = \"aikb-search-card__tag\";\r\n        tag.textContent = trimmedCat;\r\n        tagsContainer.appendChild(tag);\r\n      }\r\n    });\r\n\r\n    content.appendChild(tagsContainer);\r\n  }\r\n\r\n  inner.appendChild(content);\r\n\r\n  // Actions section\r\n  const actions = document.createElement(\"div\");\r\n  actions.className = \"aikb-search-card__actions\";\r\n\r\n  // \"See more\" button\r\n  const button = document.createElement(\"a\");\r\n  button.href = result.liveUrl;\r\n  button.className = \"ntgc-btn ntgc-btn--secondary\";\r\n\r\n  const buttonText = document.createElement(\"span\");\r\n  buttonText.textContent = \"See more\";\r\n  button.appendChild(buttonText);\r\n\r\n  const icon = document.createElement(\"span\");\r\n  icon.className = \"fal fa-long-arrow-right\";\r\n  icon.setAttribute(\"aria-hidden\", \"true\");\r\n  button.appendChild(icon);\r\n\r\n  actions.appendChild(button);\r\n\r\n  // Metadata section\r\n  const metadata = document.createElement(\"div\");\r\n  metadata.className = \"aikb-search-card__metadata\";\r\n\r\n  // \"Useful for\" row (only if keyword[1] exists)\r\n  const usefulFor =\r\n    result.listMetadata && result.listMetadata.keyword\r\n      ? result.listMetadata.keyword[1]\r\n      : null;\r\n  if (usefulFor) {\r\n    const usefulRow = document.createElement(\"div\");\r\n    usefulRow.className = \"aikb-search-card__useful-for\";\r\n\r\n    const label = document.createElement(\"span\");\r\n    label.className = \"aikb-search-card__useful-label\";\r\n    label.textContent = \"Useful for: \";\r\n    usefulRow.appendChild(label);\r\n\r\n    const value = document.createElement(\"span\");\r\n    value.className = \"aikb-search-card__useful-value\";\r\n    value.textContent = usefulFor;\r\n    usefulRow.appendChild(value);\r\n\r\n    metadata.appendChild(usefulRow);\r\n  }\r\n\r\n  // Submitted date\r\n  if (result.date) {\r\n    const dateEl = document.createElement(\"div\");\r\n    dateEl.className = \"aikb-search-card__date\";\r\n    dateEl.textContent = `Submitted: ${formatDate(result.date)}`;\r\n    metadata.appendChild(dateEl);\r\n  }\r\n\r\n  actions.appendChild(metadata);\r\n  inner.appendChild(actions);\r\n\r\n  card.appendChild(inner);\r\n\r\n  return card;\r\n}\r\n\r\n/**\r\n * Render search results to the container\r\n * @param {Array<Object>} results - Array of result objects\r\n * @param {string} containerId - ID of the container element (default: \"search-results-list\")\r\n */\r\nexport function renderResults(results, containerId = \"search-results-list\") {\r\n  console.log(\r\n    `renderResults called with ${results.length} results for container #${containerId}`\r\n  );\r\n\r\n  // Try multiple selection methods\r\n  let container = document.getElementById(containerId);\r\n  console.log(`document.getElementById(\"${containerId}\"):`, container);\r\n\r\n  if (!container) {\r\n    // Try jQuery selector as fallback\r\n    const $container = window.$ ? window.$(`#${containerId}`) : null;\r\n    console.log(`jQuery selector $(\"#${containerId}\"):`, $container);\r\n    container = $container && $container.length > 0 ? $container[0] : null;\r\n  }\r\n\r\n  if (!container) {\r\n    console.error(`Container #${containerId} not found`);\r\n    console.log(\r\n      \"Available elements with id:\",\r\n      Array.from(document.querySelectorAll(\"[id]\")).map((el) => el.id)\r\n    );\r\n    return;\r\n  }\r\n\r\n  // Clear existing content\r\n  container.innerHTML = \"\";\r\n\r\n  // Filter and render valid cards\r\n  const cards = results\r\n    .map((result) => createSearchCard(result))\r\n    .filter((card) => card !== null);\r\n\r\n  if (cards.length === 0) {\r\n    const noResults = document.createElement(\"p\");\r\n    noResults.textContent = \"No results found.\";\r\n    noResults.style.padding = \"24px 48px\";\r\n    container.appendChild(noResults);\r\n    return;\r\n  }\r\n\r\n  cards.forEach((card) => container.appendChild(card));\r\n\r\n  console.log(`Rendered ${cards.length} search result cards`);\r\n}\r\n\r\n// Expose globally for legacy usage\r\nwindow.aikbRenderResults = renderResults;\r\n", "/**\r\n * Search Form Handler\r\n * Wires the #policy-search-form submission to trigger Funnelback API calls\r\n * and populate #search-results-list with results\r\n */\r\n\r\n(function initSearchForm() {\r\n  // Only initialize if jQuery is available\r\n  if (typeof window.$ === \"undefined\") {\r\n    console.warn(\"jQuery not loaded; search form handler disabled\");\r\n    return;\r\n  }\r\n\r\n  const $form = window.$(\"#policy-search-form\");\r\n  const $searchInput = window.$(\"#search\");\r\n\r\n  if ($form.length === 0) {\r\n    console.error(\"Form #policy-search-form not found\");\r\n    return;\r\n  }\r\n\r\n  /**\r\n   * Extract search parameters from form\r\n   * @returns {Object} Search parameters {query, area, ...}\r\n   */\r\n  function getSearchParams() {\r\n    return {\r\n      query: $searchInput.val() || \"\",\r\n      area: window.$(\"#select-input-2\").val() || \"\",\r\n    };\r\n  }\r\n\r\n  /**\r\n   * Handle form submission\r\n   * Prevent default navigation and trigger API search\r\n   */\r\n  function handleFormSubmit(event) {\r\n    event.preventDefault();\r\n\r\n    const params = getSearchParams();\r\n\r\n    // Validate that at least a query is provided\r\n    if (!params.query.trim()) {\r\n      console.warn(\"Search query is empty\");\r\n      return;\r\n    }\r\n\r\n    // Clear previous results and show loading state\r\n    const $container = window.$(\"#search-results-list\");\r\n    if ($container.length > 0) {\r\n      $container.html('<div class=\"aikb-loading\">Searching...</div>');\r\n    }\r\n\r\n    // Trigger Funnelback API call\r\n    if (\r\n      window.ntgFunnelback &&\r\n      typeof window.ntgFunnelback.callSearchAPI === \"function\"\r\n    ) {\r\n      window.ntgFunnelback.callSearchAPI(params.query, params);\r\n    } else {\r\n      console.error(\"Funnelback API not initialized\");\r\n    }\r\n  }\r\n\r\n  /**\r\n   * Handle clear input button click\r\n   * Clear the search field and reset results\r\n   */\r\n  function handleClearInput() {\r\n    $searchInput.val(\"\");\r\n    const $container = window.$(\"#search-results-list\");\r\n    if ($container.length > 0) {\r\n      $container.html(\"\");\r\n    }\r\n  }\r\n\r\n  // Attach form submission handler\r\n  $form.on(\"submit\", handleFormSubmit);\r\n\r\n  // Attach clear input handler\r\n  window.$(\"#clear-input\").on(\"click\", handleClearInput);\r\n\r\n  // Show/hide clear button based on input state\r\n  $searchInput.on(\"input\", function () {\r\n    const $clearBtn = window.$(\"#clear-input\");\r\n    if (window.$(this).val().length > 0) {\r\n      $clearBtn.attr(\"hidden\", false);\r\n    } else {\r\n      $clearBtn.attr(\"hidden\", \"\");\r\n    }\r\n  });\r\n\r\n  console.log(\"Search form handler initialized\");\r\n})();\r\n", "// Load initial search results from Funnelback API on page load\r\nimport { renderResults } from \"./search-card-template.js\";\r\n\r\n(function () {\r\n  function loadInitialResults() {\r\n    // Check if we're on a page with search results container\r\n    const searchResultsContainer = document.getElementById(\r\n      \"search-results-list\"\r\n    );\r\n    if (!searchResultsContainer) {\r\n      console.warn(\"search-results-list container not found on page\");\r\n      return; // Not on search results page\r\n    }\r\n\r\n    console.log(\"Loading initial results from Funnelback API...\");\r\n\r\n    // Primary: Fetch from Funnelback API endpoint\r\n    const apiURL =\r\n      \"https://ntgov-search.funnelback.squiz.cloud/s/search.json?collection=ntgov~sp-ntgc-ai-knowledge-base&s=!FunDoesNotExist:PadreNull&query=\";\r\n\r\n    fetch(apiURL)\r\n      .then((response) => {\r\n        console.log(\r\n          \"Funnelback API response status:\",\r\n          response.status,\r\n          response.ok\r\n        );\r\n        if (!response.ok) {\r\n          throw new Error(`HTTP error! status: ${response.status}`);\r\n        }\r\n        return response.json();\r\n      })\r\n      .then((data) => {\r\n        console.log(\"Funnelback API data loaded successfully:\", data);\r\n        processAndRenderResults(data);\r\n      })\r\n      .catch((error) => {\r\n        console.error(\r\n          \"Error loading from Funnelback API, falling back to local JSON:\",\r\n          error\r\n        );\r\n\r\n        // Fallback: Load from local search.json as last resort\r\n        fetch(\"src/data/search.json\")\r\n          .then((response) => {\r\n            console.log(\r\n              \"Fallback JSON response status:\",\r\n              response.status,\r\n              response.ok\r\n            );\r\n            if (!response.ok) {\r\n              throw new Error(`HTTP error! status: ${response.status}`);\r\n            }\r\n            return response.json();\r\n          })\r\n          .then((data) => {\r\n            console.log(\"Fallback JSON data loaded successfully:\", data);\r\n            processAndRenderResults(data);\r\n          })\r\n          .catch((fallbackError) => {\r\n            console.error(\"Error loading fallback search.json:\", fallbackError);\r\n            searchResultsContainer.innerHTML =\r\n              \"<p>Error loading search data: \" + fallbackError.message + \"</p>\";\r\n          });\r\n      });\r\n  }\r\n\r\n  function processAndRenderResults(data) {\r\n    // Extract results from Funnelback response structure\r\n    const results =\r\n      data.response && data.response.resultPacket\r\n        ? data.response.resultPacket.results\r\n        : [];\r\n\r\n    // Map to card template format\r\n    const mappedResults = results.map((result) => ({\r\n      title: result.title || \"\",\r\n      summary: result.summary || \"\",\r\n      listMetadata: result.listMetadata || {},\r\n      date: result.date\r\n        ? new Date(result.date).toLocaleDateString(\"en-AU\", {\r\n            year: \"numeric\",\r\n            month: \"long\",\r\n          })\r\n        : \"\",\r\n      liveUrl: result.liveUrl || \"\",\r\n    }));\r\n\r\n    console.log(\"Rendering\", mappedResults.length, \"cards\");\r\n\r\n    // Render cards using the template\r\n    renderResults(mappedResults, \"search-results-list\");\r\n  }\r\n\r\n  // Wait for complete page load (not just DOM ready)\r\n  window.addEventListener(\"load\", function () {\r\n    console.log(\"Page load event fired, loading initial results...\");\r\n    // Extra delay after full page load to ensure all scripts initialized\r\n    setTimeout(loadInitialResults, 200);\r\n  });\r\n})();\r\n", "// Entry point: bundle search logic for in-page Funnelback search\r\nimport \"./ntg-funnelback.js\";\r\nimport \"./cta-button-alias.js\";\r\nimport \"./search-card-template.js\";\r\nimport \"./search-form-handler.js\";\r\nimport \"./load-initial-results.js\";\r\n"],
  "mappings": "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",
  "names": ["regex"]
}
