{
  "version": 3,
  "sources": ["../src/js/copy-to-clipboard.js", "../src/js/wrap-pre-blocks.js", "../src/js/content-page.js"],
  "sourcesContent": ["document.addEventListener(\"DOMContentLoaded\", () => {\n  // For each <pre>, check if it is immediately preceded by a heading (h2-h6)\n  document.querySelectorAll(\"pre\").forEach((pre) => {\n    pre.classList.add(\"copyable\");\n    // Find preceding heading sibling\n    let heading = pre.previousElementSibling;\n    if (heading && /^H[2-6]$/.test(heading.tagName)) {\n      // Only wrap if not already wrapped\n      if (!heading.parentElement.classList.contains(\"copy-pre-btn-wrapper\")) {\n        const wrapper = document.createElement(\"div\");\n        wrapper.className = \"copy-pre-btn-wrapper\";\n        wrapper.style.position = \"relative\";\n        wrapper.style.width = \"100%\";\n        heading.parentNode.insertBefore(wrapper, heading);\n        wrapper.appendChild(heading);\n        wrapper.appendChild(pre);\n        // Add button\n        addCopyButton(wrapper, pre);\n      }\n    } else if (!pre.parentElement.classList.contains(\"copy-pre-btn-wrapper\")) {\n      // No heading, just wrap pre\n      const wrapper = document.createElement(\"div\");\n      wrapper.className = \"copy-pre-btn-wrapper\";\n      wrapper.style.position = \"relative\";\n      wrapper.style.width = \"100%\";\n      pre.parentNode.insertBefore(wrapper, pre);\n      wrapper.appendChild(pre);\n      addCopyButton(wrapper, pre);\n    }\n  });\n});\nfunction addCopyButton(wrapper, pre) {\n  // Only add button if not already present\n  if (wrapper.querySelector(\".copy-pre-btn\")) return;\n  const btn = document.createElement(\"button\");\n  btn.type = \"button\";\n  btn.className = \"copy-pre-btn\";\n  btn.textContent = \"Copy\";\n  btn.setAttribute(\"aria-label\", \"Copy code block to clipboard\");\n  btn.style.position = \"absolute\";\n  btn.style.top = \"8px\";\n  btn.style.right = \"8px\";\n  wrapper.appendChild(btn);\n  btn.addEventListener(\"click\", async (e) => {\n    e.preventDefault();\n    // Only copy the pre's text, not the button\n    const text = pre.textContent;\n    if (navigator.clipboard && window.isSecureContext) {\n      try {\n        await navigator.clipboard.writeText(text);\n        showCopiedState(btn);\n      } catch (err) {\n        showError();\n      }\n      return;\n    }\n    try {\n      fallbackCopy(text);\n      showCopiedState(btn);\n    } catch (err) {\n      showError();\n    }\n  });\n}\n// ...existing code...\n\n// Fallback copy using a temporary textarea\nfunction fallbackCopy(text) {\n  const ta = document.createElement(\"textarea\");\n  ta.value = text;\n  ta.setAttribute(\"readonly\", \"\");\n  ta.style.position = \"fixed\";\n  ta.style.top = \"-1000px\";\n  document.body.appendChild(ta);\n  ta.focus();\n  ta.select();\n  const ok = document.execCommand(\"copy\");\n  document.body.removeChild(ta);\n  if (!ok) throw new Error(\"execCommand copy failed\");\n}\n\n// Lightweight success toast inside the same <pre>\nfunction showCopiedState(btn) {\n  // Reset any existing timer to avoid race conditions\n  if (btn._copyResetTimer) {\n    clearTimeout(btn._copyResetTimer);\n  }\n  btn.textContent = \"Copied\";\n  btn.classList.add(\"is-copied\");\n  btn.setAttribute(\"aria-label\", \"Copied to clipboard\");\n  btn._copyResetTimer = setTimeout(() => {\n    btn.textContent = \"Copy\";\n    btn.classList.remove(\"is-copied\");\n    btn.setAttribute(\"aria-label\", \"Copy code block to clipboard\");\n  }, 1600);\n}\n\n// Optional: generic error notice\nfunction showError() {\n  alert(\"Failed to copy.\");\n}\n", "// Utility to wrap <h2>-<h6> + <pre> in .aikb-pre-block for unified styling\r\nexport function wrapPreBlocks(main) {\r\n  main = main || document.getElementById(\"aikb-main-content\") || document.body;\r\n  const headingSelector = \"h2, h3, h4, h5, h6\";\r\n  const headings = main.querySelectorAll(headingSelector);\r\n  headings.forEach((heading) => {\r\n    const next = heading.nextElementSibling;\r\n    if (\r\n      next &&\r\n      next.tagName === \"PRE\" &&\r\n      !heading.parentElement.classList.contains(\"aikb-pre-block\")\r\n    ) {\r\n      // Create wrapper\r\n      const wrapper = document.createElement(\"div\");\r\n      wrapper.className = \"aikb-pre-block\";\r\n      heading.parentNode.insertBefore(wrapper, heading);\r\n      wrapper.appendChild(heading);\r\n      wrapper.appendChild(next);\r\n    }\r\n  });\r\n  // Also style any <pre> not already wrapped\r\n  main.querySelectorAll(\"pre\").forEach((pre) => {\r\n    if (!pre.parentElement.classList.contains(\"aikb-pre-block\")) {\r\n      const wrapper = document.createElement(\"div\");\r\n      wrapper.className = \"aikb-pre-block\";\r\n      pre.parentNode.insertBefore(wrapper, pre);\r\n      wrapper.appendChild(pre);\r\n    }\r\n  });\r\n}\r\n", "// Content page specific scripts\r\nimport \"./copy-to-clipboard.js\";\r\nimport { wrapPreBlocks } from \"./wrap-pre-blocks.js\";\r\n\r\n// Wrap <h2>-<h6> + <pre> blocks for unified styling\r\ndocument.addEventListener(\"DOMContentLoaded\", () => {\r\n  wrapPreBlocks();\r\n});\r\n"],
  "mappings": "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",
  "names": ["require_copy_to_clipboard", "__commonJSMin", "pre", "heading", "wrapper", "addCopyButton", "btn", "e", "text", "showCopiedState", "showError", "fallbackCopy", "ta", "ok", "wrapPreBlocks", "main", "heading", "next", "wrapper", "pre", "init_wrap_pre_blocks", "__esmMin", "require_content_page", "__commonJSMin", "import_copy_to_clipboard", "init_wrap_pre_blocks", "wrapPreBlocks"]
}
