{
  "version": 3,
  "sources": ["../src/js/config.js", "../src/js/offline-search.js", "../src/js/pagination.js", "../src/js/search-card-template.js", "../src/js/populate-dropdowns.js", "../src/js/applied-filters.js", "../src/js/search-filters.js", "../src/js/load-initial-results.js", "../src/js/search-form-handler.js", "../src/js/cta-button-alias.js", "../src/js/landing-page.js"],
  "sourcesContent": ["/**\r\n * Configuration Module\r\n * Centralized environment detection and API endpoint configuration\r\n */\r\n\r\n/**\r\n * Detect if the application is running in production environment\r\n * @returns {boolean} True if running on ntgcentral.nt.gov.au\r\n */\r\nexport function isProduction() {\r\n  return window.location.hostname === \"ntgcentral.nt.gov.au\";\r\n}\r\n\r\n/**\r\n * Get the appropriate data source URL based on environment\r\n * @returns {Object} Configuration object with data source URLs\r\n */\r\nexport function getConfig() {\r\n  const config = {\r\n    isProduction: isProduction(),\r\n    liveApiUrl:\r\n      \"https://ntgcentral.nt.gov.au/services-and-support/ict-services-websites/artificial-intelligence/ai-knowledge-base/configuration/listing/articles/_nocache\",\r\n    fallbackJsonUrl: \"./dist/search.json\",\r\n    workAreasUrl: isProduction()\r\n      ? \"https://ntgcentral.nt.gov.au/services-and-support/ict-services-websites/artificial-intelligence/ai-knowledge-base/configuration/listing/work-areas/_nocache\"\r\n      : \"./src/data/work-areas.json\",\r\n  };\r\n\r\n  return config;\r\n}\r\n\r\n/**\r\n * Get the primary data source URL for the current environment\r\n * Production: Live API\r\n * Development: Local JSON file\r\n * @returns {string} The primary data source URL\r\n */\r\nexport function getPrimaryDataSource() {\r\n  const config = getConfig();\r\n  return config.isProduction ? config.liveApiUrl : config.fallbackJsonUrl;\r\n}\r\n\r\n/**\r\n * Get the fallback data source URL\r\n * Only used in production when live API fails\r\n * @returns {string|null} The fallback URL or null for dev environment\r\n */\r\nexport function getFallbackDataSource() {\r\n  const config = getConfig();\r\n  return config.isProduction ? config.fallbackJsonUrl : null;\r\n}\r\n\r\n/**\r\n * Get the work areas data source URL for the current environment\r\n * Production: Live API\r\n * Development: Local JSON file\r\n * @returns {string} The work areas data source URL\r\n */\r\nexport function getWorkAreasDataSource() {\r\n  const config = getConfig();\r\n  return config.workAreasUrl;\r\n}\r\n\r\n/**\r\n * Common noise words to filter from search queries\r\n * Reused from Funnelback implementation for consistency\r\n */\r\nexport const NOISE_WORDS = new Set([\r\n  \"a\",\r\n  \"au\",\r\n  \"all\",\r\n  \"am\",\r\n  \"an\",\r\n  \"and\",\r\n  \"any\",\r\n  \"are\",\r\n  \"as\",\r\n  \"at\",\r\n  \"be\",\r\n  \"been\",\r\n  \"but\",\r\n  \"by\",\r\n  \"can\",\r\n  \"cant\",\r\n  \"co\",\r\n  \"com\",\r\n  \"de\",\r\n  \"do\",\r\n  \"eg\",\r\n  \"else\",\r\n  \"etc\",\r\n  \"for\",\r\n  \"from\",\r\n  \"get\",\r\n  \"go\",\r\n  \"had\",\r\n  \"has\",\r\n  \"hasnt\",\r\n  \"have\",\r\n  \"he\",\r\n  \"hence\",\r\n  \"her\",\r\n  \"here\",\r\n  \"hers\",\r\n  \"him\",\r\n  \"his\",\r\n  \"how\",\r\n  \"http\",\r\n  \"https\",\r\n  \"i\",\r\n  \"ie\",\r\n  \"if\",\r\n  \"in\",\r\n  \"is\",\r\n  \"it\",\r\n  \"its\",\r\n  \"la\",\r\n  \"me\",\r\n  \"my\",\r\n  \"nor\",\r\n  \"not\",\r\n  \"now\",\r\n  \"of\",\r\n  \"off\",\r\n  \"on\",\r\n  \"or\",\r\n  \"our\",\r\n  \"ours\",\r\n  \"pm\",\r\n  \"put\",\r\n  \"re\",\r\n  \"she\",\r\n  \"so\",\r\n  \"than\",\r\n  \"that\",\r\n  \"the\",\r\n  \"their\",\r\n  \"them\",\r\n  \"then\",\r\n  \"there\",\r\n  \"these\",\r\n  \"they\",\r\n  \"this\",\r\n  \"those\",\r\n  \"thus\",\r\n  \"to\",\r\n  \"too\",\r\n  \"uk\",\r\n  \"un\",\r\n  \"until\",\r\n  \"up\",\r\n  \"upon\",\r\n  \"us\",\r\n  \"very\",\r\n  \"via\",\r\n  \"was\",\r\n  \"we\",\r\n  \"well\",\r\n  \"were\",\r\n  \"what\",\r\n  \"when\",\r\n  \"where\",\r\n  \"which\",\r\n  \"while\",\r\n  \"who\",\r\n  \"why\",\r\n  \"www\",\r\n  \"you\",\r\n  \"your\",\r\n  \"yours\",\r\n]);\r\n", "/**\n * Offline Search Module - Enhanced Multi-Word Search\n *\n * Features:\n * - Multi-word tokenization (queries split into individual terms)\n * - TF (Term Frequency) scoring with field weighting\n * - Noise word filtering\n * - Document length normalization\n * - Match tracking for result highlighting\n */\n\nimport { NOISE_WORDS } from \"./config.js\";\n\n/**\n * Tokenize and normalize a search query\n * Preserves uppercase acronyms (e.g., \"IT\") even if their lowercase version is a noise word\n * @param {string} query - Raw search query\n * @returns {Array<string>} Array of normalized tokens (noise words removed)\n */\nfunction tokenizeQuery(query) {\n  // Remove special chars but preserve case initially\n  const cleaned = query.replace(/[^\\w\\s]/g, \" \").trim();\n\n  if (!cleaned) return [];\n\n  // Split into words preserving original case\n  const words = cleaned.split(/\\s+/).filter((word) => word.length > 0);\n\n  // Filter out noise words, but preserve uppercase acronyms\n  const tokens = words.filter((word) => {\n    const lowerWord = word.toLowerCase();\n\n    // If lowercase version is a noise word\n    if (NOISE_WORDS.has(lowerWord)) {\n      // Keep it if it's all uppercase (likely an acronym like \"IT\")\n      return word === word.toUpperCase() && word.length >= 2;\n    }\n\n    // Not a noise word, keep it\n    return true;\n  });\n\n  // Normalize to lowercase for searching\n  return tokens.map((token) => token.toLowerCase());\n}\n\n/**\n * Normalize text for searching (lowercase, remove special chars)\n * @param {string} text - Text to normalize\n * @returns {string} Normalized text\n */\nfunction normalizeText(text) {\n  if (!text) return \"\";\n  return text.toLowerCase().replace(/[^\\w\\s]/g, \" \");\n}\n\n/**\n * Count term frequency in text with support for partial and full word matches\n * @param {string} text - Text to search in\n * @param {string} term - Term to count\n * @returns {Object} Object with fullWordMatches and partialMatches counts\n */\nfunction countTermFrequency(text, term) {\n  if (!text || !term) return { fullWordMatches: 0, partialMatches: 0 };\n\n  const normalized = normalizeText(text);\n\n  // Count full word matches (higher priority)\n  const fullWordRegex = new RegExp(`\\\\b${term}\\\\b`, \"gi\");\n  const fullWordMatches = normalized.match(fullWordRegex);\n  const fullWordCount = fullWordMatches ? fullWordMatches.length : 0;\n\n  // Count partial matches (lower priority)\n  // Only count partials that are NOT already full word matches\n  const partialRegex = new RegExp(term, \"gi\");\n  const allMatches = normalized.match(partialRegex);\n  const totalMatches = allMatches ? allMatches.length : 0;\n  const partialCount = Math.max(0, totalMatches - fullWordCount);\n\n  return {\n    fullWordMatches: fullWordCount,\n    partialMatches: partialCount,\n  };\n}\n\n/**\n * Extract all metadata as searchable text\n * @param {Object} result - Search result object\n * @returns {string} Concatenated metadata text\n */\nfunction extractMetadata(result) {\n  const parts = [];\n\n  if (result.listMetadata) {\n    // Work areas\n    if (result.listMetadata[\"Work area\"]) {\n      parts.push(...result.listMetadata[\"Work area\"]);\n    }\n    // Roles\n    if (result.listMetadata[\"Roles\"]) {\n      parts.push(...result.listMetadata[\"Roles\"]);\n    }\n    // Benefits\n    if (result.listMetadata[\"Benefits\"]) {\n      parts.push(...result.listMetadata[\"Benefits\"]);\n    }\n  }\n\n  return parts.join(\" \");\n}\n\n/**\n * Calculate TF score for a single term across all fields\n * @param {Object} result - Search result object\n * @param {string} term - Search term\n * @returns {Object} Score breakdown and total\n */\nfunction scoreTermInResult(result, term) {\n  const titleText = result.title || \"\";\n  const summaryText = result.summary || \"\";\n  const metadataText = extractMetadata(result);\n\n  // Count term frequency in each field (full word and partial matches)\n  const titleTF = countTermFrequency(titleText, term);\n  const summaryTF = countTermFrequency(summaryText, term);\n  const metadataTF = countTermFrequency(metadataText, term);\n\n  // Apply field weights with different scoring for full vs partial matches\n  // Full word matches: Title (5x), Metadata (3x), Summary (2x)\n  // Partial matches: Title (2x), Metadata (1.5x), Summary (1x) - 40% of full word weight\n  const titleScore = titleTF.fullWordMatches * 5 + titleTF.partialMatches * 2;\n  const summaryScore =\n    summaryTF.fullWordMatches * 2 + summaryTF.partialMatches * 1;\n  const metadataScore =\n    metadataTF.fullWordMatches * 3 + metadataTF.partialMatches * 1.5;\n\n  const totalScore = titleScore + summaryScore + metadataScore;\n\n  return {\n    titleTF: titleTF.fullWordMatches + titleTF.partialMatches,\n    titleFullWord: titleTF.fullWordMatches,\n    titlePartial: titleTF.partialMatches,\n    summaryTF: summaryTF.fullWordMatches + summaryTF.partialMatches,\n    summaryFullWord: summaryTF.fullWordMatches,\n    summaryPartial: summaryTF.partialMatches,\n    metadataTF: metadataTF.fullWordMatches + metadataTF.partialMatches,\n    metadataFullWord: metadataTF.fullWordMatches,\n    metadataPartial: metadataTF.partialMatches,\n    titleScore,\n    summaryScore,\n    metadataScore,\n    totalScore,\n    hasMatch: totalScore > 0,\n  };\n}\n\n/**\n * Calculate document length for normalization\n * @param {Object} result - Search result object\n * @returns {number} Total character count\n */\nfunction getDocumentLength(result) {\n  const titleLength = (result.title || \"\").length;\n  const summaryLength = (result.summary || \"\").length;\n  const metadataLength = extractMetadata(result).length;\n\n  return titleLength + summaryLength + metadataLength;\n}\n\n/**\n * Search through locally cached data using multi-word tokenization\n *\n * Scoring algorithm:\n * - Tokenizes query into individual terms (filters noise words)\n * - For each term, counts frequency in title/summary/metadata\n * - Applies field weights: Title (5x), Metadata (3x), Summary (2x)\n * - Normalizes by document length (\u00D7 1000 to keep scores readable)\n * - Tracks matched terms for result highlighting\n *\n * @param {string} keywords - Search keywords entered by user\n * @param {Array} results - Cached search results to filter\n * @returns {Array} Filtered and scored results, sorted by relevance\n */\nexport function searchLocalData(keywords, results) {\n  if (!keywords || !results || results.length === 0) {\n    return [];\n  }\n\n  // Tokenize query\n  const terms = tokenizeQuery(keywords);\n\n  if (terms.length === 0) {\n    return [];\n  }\n\n  // Score each result\n  const scoredResults = results.map((result) => {\n    let totalScore = 0;\n    const matchedTerms = [];\n    const termScores = {};\n\n    // Score each term independently\n    terms.forEach((term) => {\n      const termScore = scoreTermInResult(result, term);\n\n      if (termScore.hasMatch) {\n        matchedTerms.push(term);\n        totalScore += termScore.totalScore;\n        termScores[term] = termScore;\n      }\n    });\n\n    // Normalize by document length to prevent long documents from dominating\n    const docLength = getDocumentLength(result);\n    const normalizedScore = docLength > 0 ? (totalScore / docLength) * 1000 : 0;\n\n    return {\n      ...result,\n      _offlineScore: normalizedScore,\n      _rawScore: totalScore,\n      _matchedTerms: matchedTerms,\n      _termScores: termScores,\n      _docLength: docLength,\n    };\n  });\n\n  // Filter: require at least one matched term\n  const matchedResults = scoredResults.filter(\n    (result) => result._matchedTerms.length > 0,\n  );\n\n  // Sort by normalized score descending (highest score first)\n  matchedResults.sort((a, b) => b._offlineScore - a._offlineScore);\n\n  return matchedResults;\n}\n\n/**\n * Get cached search data from global scope\n *\n * @returns {Array|null} Cached results or null if not available\n */\nexport function getCachedData() {\n  if (window.aikbSearchCache && Array.isArray(window.aikbSearchCache)) {\n    return window.aikbSearchCache;\n  }\n\n  return null;\n}\n", "// Pagination component for search results\r\n\r\nlet currentPage = 1;\r\nlet itemsPerPage = 10;\r\nlet totalItems = 0;\r\nlet allResults = [];\r\nlet paginationContainer = null;\r\n\r\n/**\r\n * Initialize pagination\r\n * @param {Array} results - All search results\r\n * @param {number} perPage - Items per page (default: 10)\r\n */\r\nexport function initializePagination(results, perPage = 10) {\r\n  allResults = results;\r\n  itemsPerPage = perPage;\r\n  totalItems = results.length;\r\n  currentPage = 1;\r\n\r\n  // Find or create pagination container\r\n  ensurePaginationContainer();\r\n\r\n  // Render pagination controls\r\n  renderPaginationControls();\r\n}\r\n\r\n/**\r\n * Get current page of results\r\n * @returns {Array} - Results for current page\r\n */\r\nexport function getCurrentPageResults() {\r\n  const startIndex = (currentPage - 1) * itemsPerPage;\r\n  const endIndex = startIndex + itemsPerPage;\r\n  return allResults.slice(startIndex, endIndex);\r\n}\r\n\r\n/**\r\n * Get current page number\r\n * @returns {number}\r\n */\r\nexport function getCurrentPage() {\r\n  return currentPage;\r\n}\r\n\r\n/**\r\n * Get total number of pages\r\n * @returns {number}\r\n */\r\nexport function getTotalPages() {\r\n  return Math.ceil(totalItems / itemsPerPage);\r\n}\r\n\r\n/**\r\n * Ensure pagination container exists in DOM\r\n */\r\nfunction ensurePaginationContainer() {\r\n  paginationContainer = document.getElementById(\"aikb-pagination\");\r\n\r\n  if (!paginationContainer) {\r\n    // Create pagination container after search results\r\n    const searchResultsContainer = document.getElementById(\r\n      \"search-results-list\"\r\n    );\r\n    if (searchResultsContainer && searchResultsContainer.parentNode) {\r\n      paginationContainer = document.createElement(\"div\");\r\n      paginationContainer.id = \"aikb-pagination\";\r\n      paginationContainer.className = \"aikb-pagination\";\r\n      searchResultsContainer.parentNode.insertBefore(\r\n        paginationContainer,\r\n        searchResultsContainer.nextSibling\r\n      );\r\n    }\r\n  }\r\n}\r\n\r\n/**\r\n * Render pagination controls\r\n */\r\nfunction renderPaginationControls() {\r\n  if (!paginationContainer) return;\r\n\r\n  const totalPages = getTotalPages();\r\n\r\n  // Hide pagination if only 1 page or no results\r\n  if (totalPages <= 1) {\r\n    paginationContainer.innerHTML = \"\";\r\n    paginationContainer.style.display = \"none\";\r\n    return;\r\n  }\r\n\r\n  paginationContainer.style.display = \"flex\";\r\n\r\n  // Create pagination wrapper\r\n  const wrapper = document.createElement(\"div\");\r\n  wrapper.className = \"aikb-pagination__wrapper\";\r\n\r\n  // Previous button\r\n  const prevButton = createControlButton(\"Previous\", currentPage > 1, () => {\r\n    if (currentPage > 1) {\r\n      goToPage(currentPage - 1);\r\n    }\r\n  });\r\n  wrapper.appendChild(prevButton);\r\n\r\n  // Page numbers\r\n  const pageNumbers = createPageNumbers(totalPages);\r\n  wrapper.appendChild(pageNumbers);\r\n\r\n  // Next button\r\n  const nextButton = createControlButton(\r\n    \"Next\",\r\n    currentPage < totalPages,\r\n    () => {\r\n      if (currentPage < totalPages) {\r\n        goToPage(currentPage + 1);\r\n      }\r\n    }\r\n  );\r\n  wrapper.appendChild(nextButton);\r\n\r\n  // Clear and update\r\n  paginationContainer.innerHTML = \"\";\r\n  paginationContainer.appendChild(wrapper);\r\n}\r\n\r\n/**\r\n * Create Previous/Next control button\r\n * @param {string} label - Button label\r\n * @param {boolean} enabled - Whether button is enabled\r\n * @param {Function} onClick - Click handler\r\n * @returns {HTMLElement}\r\n */\r\nfunction createControlButton(label, enabled, onClick) {\r\n  const button = document.createElement(\"div\");\r\n  button.className = \"aikb-pagination__control\";\r\n  if (!enabled) {\r\n    button.classList.add(\"aikb-pagination__control--disabled\");\r\n  }\r\n\r\n  const iconLabel = document.createElement(\"div\");\r\n  iconLabel.className = \"aikb-pagination__icon-label\";\r\n\r\n  if (label === \"Previous\") {\r\n    const icon = document.createElement(\"span\");\r\n    icon.className = \"fal fa-chevron-left\";\r\n    icon.setAttribute(\"aria-hidden\", \"true\");\r\n    iconLabel.appendChild(icon);\r\n  }\r\n\r\n  const text = document.createElement(\"span\");\r\n  text.className = \"aikb-pagination__text\";\r\n  text.textContent = label;\r\n  iconLabel.appendChild(text);\r\n\r\n  if (label === \"Next\") {\r\n    const icon = document.createElement(\"span\");\r\n    icon.className = \"fal fa-chevron-right\";\r\n    icon.setAttribute(\"aria-hidden\", \"true\");\r\n    iconLabel.appendChild(icon);\r\n  }\r\n\r\n  button.appendChild(iconLabel);\r\n\r\n  if (enabled) {\r\n    button.addEventListener(\"click\", onClick);\r\n    button.style.cursor = \"pointer\";\r\n  }\r\n\r\n  return button;\r\n}\r\n\r\n/**\r\n * Create page number buttons\r\n * @param {number} totalPages - Total number of pages\r\n * @returns {HTMLElement}\r\n */\r\nfunction createPageNumbers(totalPages) {\r\n  const container = document.createElement(\"div\");\r\n  container.className = \"aikb-pagination__pages\";\r\n\r\n  const pages = calculatePageRange(currentPage, totalPages);\r\n\r\n  pages.forEach((page) => {\r\n    if (page === \"...\") {\r\n      const ellipsis = document.createElement(\"span\");\r\n      ellipsis.className = \"aikb-pagination__ellipsis\";\r\n      ellipsis.textContent = \"...\";\r\n      container.appendChild(ellipsis);\r\n    } else {\r\n      const pageButton = document.createElement(\"div\");\r\n      pageButton.className = \"aikb-pagination__page-number\";\r\n\r\n      if (page === currentPage) {\r\n        pageButton.classList.add(\"aikb-pagination__page-number--active\");\r\n      }\r\n\r\n      const pageText = document.createElement(\"span\");\r\n      pageText.textContent = page;\r\n      pageButton.appendChild(pageText);\r\n\r\n      pageButton.addEventListener(\"click\", () => goToPage(page));\r\n      pageButton.style.cursor = \"pointer\";\r\n\r\n      container.appendChild(pageButton);\r\n    }\r\n  });\r\n\r\n  return container;\r\n}\r\n\r\n/**\r\n * Calculate which page numbers to display\r\n * @param {number} current - Current page\r\n * @param {number} total - Total pages\r\n * @returns {Array} - Array of page numbers and ellipsis\r\n */\r\nfunction calculatePageRange(current, total) {\r\n  if (total <= 7) {\r\n    // Show all pages if 7 or fewer\r\n    return Array.from({ length: total }, (_, i) => i + 1);\r\n  }\r\n\r\n  const pages = [];\r\n\r\n  // Always show first page\r\n  pages.push(1);\r\n\r\n  if (current > 3) {\r\n    pages.push(\"...\");\r\n  }\r\n\r\n  // Show pages around current\r\n  const start = Math.max(2, current - 1);\r\n  const end = Math.min(total - 1, current + 1);\r\n\r\n  for (let i = start; i <= end; i++) {\r\n    pages.push(i);\r\n  }\r\n\r\n  if (current < total - 2) {\r\n    pages.push(\"...\");\r\n  }\r\n\r\n  // Always show last page\r\n  pages.push(total);\r\n\r\n  return pages;\r\n}\r\n\r\n/**\r\n * Navigate to specific page\r\n * @param {number} page - Page number to navigate to\r\n */\r\nfunction goToPage(page) {\r\n  const totalPages = getTotalPages();\r\n\r\n  if (page < 1 || page > totalPages || page === currentPage) {\r\n    return;\r\n  }\r\n\r\n  currentPage = page;\r\n\r\n  // Re-render pagination controls\r\n  renderPaginationControls();\r\n\r\n  // Trigger custom event for page change\r\n  const event = new CustomEvent(\"aikb-pagination-change\", {\r\n    detail: {\r\n      page: currentPage,\r\n      results: getCurrentPageResults(),\r\n    },\r\n  });\r\n  document.dispatchEvent(event);\r\n\r\n  // Scroll to top of results\r\n  const searchResultsContainer = document.getElementById(\"search-results-list\");\r\n  if (searchResultsContainer) {\r\n    const offset = 100; // Offset for fixed header\r\n    const top =\r\n      searchResultsContainer.getBoundingClientRect().top +\r\n      window.pageYOffset -\r\n      offset;\r\n    window.scrollTo({ top, behavior: \"smooth\" });\r\n  }\r\n}\r\n\r\n/**\r\n * Update pagination with new results\r\n * @param {Array} results - New results array\r\n */\r\nexport function updatePagination(results) {\r\n  allResults = results;\r\n  totalItems = results.length;\r\n  currentPage = 1; // Reset to first page\r\n\r\n  renderPaginationControls();\r\n}\r\n", "// Search card template generator for AI Knowledge Base results\n\n/**\n * Parse date string and extract \"Month YYYY\" format\n * @param {string} dateStr - Raw date string (e.g., \"December 2025\")\n * @returns {string} Formatted date or original string if parsing fails\n */\nfunction formatDate(dateStr) {\n  if (!dateStr) return \"\";\n\n  // If already in \"Month YYYY\" format, return as-is\n  const monthYearPattern = /^[A-Z][a-z]+ \\d{4}$/;\n  if (monthYearPattern.test(dateStr)) {\n    return dateStr;\n  }\n\n  // Try to parse as Date object\n  try {\n    const date = new Date(dateStr);\n    if (!isNaN(date.getTime())) {\n      const months = [\n        \"January\",\n        \"February\",\n        \"March\",\n        \"April\",\n        \"May\",\n        \"June\",\n        \"July\",\n        \"August\",\n        \"September\",\n        \"October\",\n        \"November\",\n        \"December\",\n      ];\n      return `${months[date.getMonth()]} ${date.getFullYear()}`;\n    }\n  } catch (e) {\n    // Fall through to return original\n  }\n\n  return dateStr;\n}\n\n/**\n * Highlight matched search terms in text (including partial matches)\n * @param {string} text - Original text\n * @param {Array<string>} matchedTerms - Terms to highlight\n * @returns {string} HTML string with <mark> tags around matched terms\n */\nfunction highlightMatches(text, matchedTerms) {\n  if (!text || !matchedTerms || matchedTerms.length === 0) {\n    return text;\n  }\n\n  let highlighted = text;\n\n  // Sort terms by length (longest first) to avoid partial replacements\n  const sortedTerms = [...matchedTerms].sort((a, b) => b.length - a.length);\n\n  sortedTerms.forEach((term) => {\n    // Create case-insensitive regex without word boundaries to match partial words\n    // Use negative lookahead/lookbehind to avoid matching already highlighted text\n    const regex = new RegExp(`(?!<mark[^>]*>)(${term})(?![^<]*<\\/mark>)`, \"gi\");\n    highlighted = highlighted.replace(regex, \"<mark>$1</mark>\");\n  });\n\n  return highlighted;\n}\n\n/**\n * Set HTML content safely (creates text nodes and mark elements)\n * @param {HTMLElement} element - Target element\n * @param {string} htmlString - HTML string with <mark> tags\n */\nfunction setHighlightedHTML(element, htmlString) {\n  element.innerHTML = \"\"; // Clear existing content\n\n  // Parse the HTML string and create DOM nodes\n  const parser = new DOMParser();\n  const doc = parser.parseFromString(htmlString, \"text/html\");\n\n  // Append all child nodes from parsed content\n  Array.from(doc.body.childNodes).forEach((node) => {\n    element.appendChild(node.cloneNode(true));\n  });\n}\n\n/**\n * Create a search result card DOM element\n * @param {Object} result - Result data object\n * @param {string} result.title - Card title\n * @param {string} result.summary - Card summary/description\n * @param {Object} result.listMetadata - Metadata object\n * @param {Array<string>} result.listMetadata[\"Work area\"] - Array of work area tags\n * @param {Array<string>} result.listMetadata[\"Roles\"] - Array of roles for \"Good for\"\n * @param {string} result.date - Submission date\n * @param {string} result.liveUrl - URL for \"See more\" button\n * @param {string} result.submittedBy - Person who submitted\n * @param {Array<string>} result._matchedTerms - Matched search terms for highlighting\n * @param {number} result._offlineScore - Offline search relevance score\n * @returns {HTMLElement|null} Card element or null if required fields missing\n */\nfunction createSearchCard(result) {\n  // Validate required fields\n  if (!result.title || !result.summary || !result.liveUrl) {\n    return null;\n  }\n\n  // Create card container\n  const card = document.createElement(\"div\");\n  card.className = \"aikb-search-card\";\n\n  // Add data attributes for sorting\n  // Use offline score if available, otherwise rank or score\n  const relevance =\n    result._offlineScore || (result.rank ? -result.rank : result.score || 0);\n  card.setAttribute(\"data-sort-relevance\", relevance);\n\n  // Title: store for alphabetical sorting\n  card.setAttribute(\"data-sort-title\", result.title);\n\n  // Date: store timestamp for date sorting\n  const dateTimestamp = result.dateTimestamp || 0;\n  card.setAttribute(\"data-sort-date\", dateTimestamp);\n\n  // Create inner wrapper\n  const inner = document.createElement(\"div\");\n  inner.className = \"aikb-search-card__inner\";\n\n  // Create content section\n  const content = document.createElement(\"div\");\n  content.className = \"aikb-search-card__content\";\n\n  // Text section\n  const textSection = document.createElement(\"div\");\n  textSection.className = \"aikb-search-card__text\";\n\n  // Title (with highlighting if matched terms exist)\n  const title = document.createElement(\"h3\");\n  title.className = \"aikb-search-card__title\";\n\n  if (result._matchedTerms && result._matchedTerms.length > 0) {\n    const highlightedTitle = highlightMatches(\n      result.title,\n      result._matchedTerms,\n    );\n    setHighlightedHTML(title, highlightedTitle);\n  } else {\n    title.textContent = result.title;\n  }\n\n  textSection.appendChild(title);\n\n  // Summary (with highlighting if matched terms exist)\n  const summary = document.createElement(\"p\");\n  summary.className = \"aikb-search-card__summary\";\n\n  if (result._matchedTerms && result._matchedTerms.length > 0) {\n    const highlightedSummary = highlightMatches(\n      result.summary,\n      result._matchedTerms,\n    );\n    setHighlightedHTML(summary, highlightedSummary);\n  } else {\n    summary.textContent = result.summary;\n  }\n\n  textSection.appendChild(summary);\n\n  content.appendChild(textSection);\n\n  // Tags section (work areas from JSON payload)\n  const workAreas =\n    result.listMetadata && result.listMetadata[\"Work area\"]\n      ? result.listMetadata[\"Work area\"]\n      : [];\n  if (workAreas && workAreas.length > 0) {\n    const tagsContainer = document.createElement(\"div\");\n    tagsContainer.className = \"aikb-search-card__tags\";\n\n    // Create a tag for each work area\n    workAreas.forEach((workArea) => {\n      if (workArea && workArea.trim()) {\n        const tag = document.createElement(\"div\");\n        tag.className = \"aikb-search-card__tag\";\n        tag.textContent = workArea.trim();\n        tagsContainer.appendChild(tag);\n      }\n    });\n\n    if (tagsContainer.children.length > 0) {\n      content.appendChild(tagsContainer);\n    }\n  }\n\n  inner.appendChild(content);\n\n  // Actions section\n  const actions = document.createElement(\"div\");\n  actions.className = \"aikb-search-card__actions\";\n\n  // \"See more\" button\n  const button = document.createElement(\"a\");\n  button.href = result.liveUrl;\n  button.className = \"ntgc-btn ntgc-btn--secondary\";\n\n  const buttonText = document.createElement(\"span\");\n  buttonText.textContent = \"See more\";\n  button.appendChild(buttonText);\n\n  const icon = document.createElement(\"span\");\n  icon.className = \"fal fa-long-arrow-right\";\n  icon.setAttribute(\"aria-hidden\", \"true\");\n  button.appendChild(icon);\n\n  actions.appendChild(button);\n\n  // Metadata section\n  const metadata = document.createElement(\"div\");\n  metadata.className = \"aikb-search-card__metadata\";\n\n  // \"Good for\" row (roles from JSON payload)\n  const roles =\n    result.listMetadata && result.listMetadata[\"Roles\"]\n      ? result.listMetadata[\"Roles\"]\n      : [];\n  if (roles && roles.length > 0) {\n    const usefulRow = document.createElement(\"div\");\n    usefulRow.className = \"aikb-search-card__useful-for\";\n\n    const value = document.createElement(\"span\");\n    value.className = \"aikb-search-card__useful-value\";\n\n    const label = document.createElement(\"strong\");\n    label.textContent = \"Good for: \";\n    value.appendChild(label);\n\n    const rolesText = roles.join(\", \");\n\n    // Apply highlighting if matched terms exist\n    if (result._matchedTerms && result._matchedTerms.length > 0) {\n      const highlightedRoles = highlightMatches(\n        rolesText,\n        result._matchedTerms,\n      );\n      const tempSpan = document.createElement(\"span\");\n      setHighlightedHTML(tempSpan, highlightedRoles);\n      // Append all child nodes from the temp span\n      Array.from(tempSpan.childNodes).forEach((node) => {\n        value.appendChild(node);\n      });\n    } else {\n      const text = document.createTextNode(rolesText);\n      value.appendChild(text);\n    }\n\n    usefulRow.appendChild(value);\n\n    metadata.appendChild(usefulRow);\n  }\n\n  // Last updated date\n  if (result.date) {\n    const dateEl = document.createElement(\"div\");\n    dateEl.className = \"aikb-search-card__date\";\n    dateEl.textContent = `Last updated: ${formatDate(result.date)}`;\n    metadata.appendChild(dateEl);\n  }\n\n  actions.appendChild(metadata);\n  inner.appendChild(actions);\n\n  card.appendChild(inner);\n\n  return card;\n}\n\n/**\n * Render search results to the container\n * @param {Array<Object>} results - Array of result objects\n * @param {string} containerId - ID of the container element (default: \"search-results-list\")\n * @param {boolean} usePagination - Whether to use pagination (default: true)\n */\nexport function renderResults(\n  results,\n  containerId = \"search-results-list\",\n  usePagination = true,\n) {\n  // Try multiple selection methods\n  let container = document.getElementById(containerId);\n\n  if (!container) {\n    // Try jQuery selector as fallback\n    const $container = window.$ ? window.$(`#${containerId}`) : null;\n    container = $container && $container.length > 0 ? $container[0] : null;\n  }\n\n  if (!container) {\n    return;\n  }\n\n  // Clear existing content\n  container.innerHTML = \"\";\n\n  if (results.length === 0) {\n    const noResults = document.createElement(\"p\");\n    noResults.textContent = \"No results found.\";\n    noResults.style.padding = \"24px 48px\";\n    container.appendChild(noResults);\n    return;\n  }\n\n  // Initialize or update pagination\n  if (usePagination) {\n    // Dynamic import to avoid circular dependencies\n    import(\"./pagination.js\").then(\n      ({ initializePagination, getCurrentPageResults }) => {\n        initializePagination(results, 10);\n        const pageResults = getCurrentPageResults();\n\n        // Render cards for current page\n        const cards = pageResults\n          .map((result) => createSearchCard(result))\n          .filter((card) => card !== null);\n\n        cards.forEach((card) => container.appendChild(card));\n      },\n    );\n  } else {\n    // Render all cards without pagination\n    const cards = results\n      .map((result) => createSearchCard(result))\n      .filter((card) => card !== null);\n\n    cards.forEach((card) => container.appendChild(card));\n  }\n}\n\n// Expose globally for legacy usage\nwindow.aikbRenderResults = renderResults;\n\n// Track if pagination listener has been added to prevent duplicates\nlet paginationListenerAdded = false;\n\n// Listen for pagination page changes\nif (!paginationListenerAdded) {\n  document.addEventListener(\"aikb-pagination-change\", (event) => {\n    const { results } = event.detail;\n    const container = document.getElementById(\"search-results-list\");\n\n    if (container && results) {\n      container.innerHTML = \"\";\n\n      const cards = results\n        .map((result) => createSearchCard(result))\n        .filter((card) => card !== null);\n\n      cards.forEach((card) => container.appendChild(card));\n    }\n  });\n  paginationListenerAdded = true;\n}\n", "/**\n * Dynamically create the search input and icon to match the attached design\n */\nexport function populateSearchInput() {\n  const container = document.getElementById(\"search-container\");\n  if (!container) return;\n  container.innerHTML = \"\";\n\n  // Outer wrapper\n  const wrapper = document.createElement(\"div\");\n  wrapper.style.width = \"100%\";\n  wrapper.style.height = \"100%\";\n  wrapper.style.padding = \"24px\";\n  wrapper.style.background = \"var(--clr-surface-primary, white)\";\n  wrapper.style.overflow = \"hidden\";\n  wrapper.style.outline = \"1px var(--clr-stroke-default, #AFB5BF) solid\";\n  wrapper.style.outlineOffset = \"-1px\";\n  wrapper.style.justifyContent = \"flex-start\";\n  wrapper.style.alignItems = \"center\";\n  wrapper.style.gap = \"10px\";\n  wrapper.style.display = \"inline-flex\";\n\n  // Inner flex\n  const inner = document.createElement(\"div\");\n  inner.style.flex = \"1 1 0\";\n  inner.style.justifyContent = \"space-between\";\n  inner.style.alignItems = \"center\";\n  inner.style.display = \"flex\";\n\n  // Placeholder text\n  const placeholder = document.createElement(\"div\");\n  placeholder.textContent = \"Search for a AI prompt or use case...\";\n  placeholder.style.color = \"var(--clr-text-helper, #606A80)\";\n  placeholder.style.fontSize = \"16px\";\n  placeholder.style.fontFamily = \"Roboto\";\n  placeholder.style.fontWeight = \"400\";\n  placeholder.style.lineHeight = \"24px\";\n  placeholder.style.wordWrap = \"break-word\";\n\n  // Icon container\n  const iconContainer = document.createElement(\"div\");\n  iconContainer.setAttribute(\"data-colour\", \"NTGC blue\");\n  iconContainer.style.width = \"24px\";\n  iconContainer.style.height = \"24px\";\n  iconContainer.style.position = \"relative\";\n  iconContainer.style.overflow = \"hidden\";\n\n  // Icon (small colored div)\n  const icon = document.createElement(\"div\");\n  icon.style.width = \"20px\";\n  icon.style.height = \"20px\";\n  icon.style.left = \"2px\";\n  icon.style.top = \"2px\";\n  icon.style.position = \"absolute\";\n  icon.style.background = \"var(--clr-icon-subtle, #878F9F)\";\n\n  iconContainer.appendChild(icon);\n  inner.appendChild(placeholder);\n  inner.appendChild(iconContainer);\n  wrapper.appendChild(inner);\n  container.appendChild(wrapper);\n}\n// Dynamically populate work area and sort dropdowns from search data\n\nlet staticWorkAreas = [];\n\n/**\n * Extract unique work areas from search results (used as fallback if static fetch fails)\n * @param {Array} results - Array of search result objects\n * @returns {Array<string>} - Sorted array of unique work area values\n */\nfunction extractWorkAreas(results) {\n  const workAreaSet = new Set();\n\n  results.forEach((result) => {\n    if (result.listMetadata && result.listMetadata[\"Work area\"]) {\n      const workAreas = result.listMetadata[\"Work area\"];\n      // Work areas is already an array\n      if (Array.isArray(workAreas)) {\n        workAreas.forEach((area) => {\n          const trimmed = area.trim();\n          if (trimmed) {\n            workAreaSet.add(trimmed);\n          }\n        });\n      }\n    }\n  });\n\n  // Convert to array and sort alphabetically\n  return Array.from(workAreaSet).sort((a, b) => {\n    return a.localeCompare(b);\n  });\n}\n\n/**\n * Store static work areas list for later use\n * @param {Array<string>} workAreas - Array of work area names from static source\n */\nexport function setStaticWorkAreas(workAreas) {\n  staticWorkAreas = workAreas;\n}\n\n/**\n * Populate work area dropdown with dynamic options\n * @param {Array<string>} workAreas - Array of work area values\n */\nfunction populateWorkAreaDropdown(workAreas) {\n  const dropdown = document.getElementById(\"document_type\");\n  if (!dropdown) {\n    return;\n  }\n\n  // Unload existing SumoSelect instance if it exists\n  if (window.jQuery && window.jQuery.fn.SumoSelect && dropdown.sumo) {\n    window.jQuery(dropdown)[0].sumo.unload();\n  }\n\n  // Enable multiple selection\n  dropdown.setAttribute(\"multiple\", \"multiple\");\n\n  // Clear existing options\n  dropdown.innerHTML = \"\";\n\n  // Add \"All work areas\" as an option (not selected by default)\n  const allOption = document.createElement(\"option\");\n  allOption.value = \"All work areas\";\n  allOption.textContent = \"All work areas\";\n  dropdown.appendChild(allOption);\n\n  // Add work area options\n  workAreas.forEach((workArea) => {\n    // Skip \"All work areas\" if it's in the data to avoid duplicates\n    if (workArea === \"All work areas\") {\n      return;\n    }\n    const option = document.createElement(\"option\");\n    option.value = workArea;\n    option.textContent = workArea;\n    dropdown.appendChild(option);\n  });\n\n  // Initialize SumoSelect plugin for dropdown with tickable items\n  if (window.jQuery && window.jQuery.fn.SumoSelect) {\n    window.jQuery(dropdown).SumoSelect({\n      placeholder: \"Select work areas\",\n      search: true,\n      selectAll: true, // Enable \"Select All\" checkbox\n      searchText: \"Search work areas...\",\n      noMatch: \"No matches found\",\n      captionFormat: \"{0} work areas selected\",\n      csvDispCount: 2, // Show up to 2 items before switching to count format\n      okCancelInMulti: true, // Add OK/Cancel buttons for better UX\n      isClickAwayOk: true, // Accept selections when clicking away\n      onChange: function () {\n        // Trigger native change event for search-filters.js listener\n        const event = new Event(\"change\", { bubbles: true });\n        dropdown.dispatchEvent(event);\n      },\n    });\n  }\n}\n\n/**\n * Populate sort dropdown with sort options\n */\nfunction populateSortDropdown() {\n  const container = document.getElementById(\"select-question-3\");\n  if (!container) {\n    return;\n  }\n\n  // Check if dropdown already exists\n  let dropdown = document.getElementById(\"owner\");\n\n  // If dropdown doesn't exist, create the entire structure\n  if (!dropdown) {\n    // Clear container content (except label)\n    const label = container.querySelector(\"label\");\n    container.innerHTML = \"\";\n    if (label) {\n      container.appendChild(label);\n    } else {\n      // Create label if it doesn't exist\n      const newLabel = document.createElement(\"label\");\n      newLabel.className = \"ntgc-form-input--label\";\n      newLabel.setAttribute(\"for\", \"select-input-2\");\n      newLabel.textContent = \"Sort\";\n      container.appendChild(newLabel);\n    }\n\n    // Create dropdown wrapper\n    const wrapper = document.createElement(\"div\");\n    wrapper.className = \"aikb-dropdown-wrapper\";\n\n    // Create inner wrapper\n    const inner = document.createElement(\"div\");\n    inner.className = \"aikb-dropdown-inner\";\n\n    // Create select element\n    dropdown = document.createElement(\"select\");\n    dropdown.name = \"sort\";\n    dropdown.className =\n      \"ntgc-select ntgc-select--block ntgc-select-input--filter\";\n    dropdown.id = \"owner\";\n\n    // Append elements\n    inner.appendChild(dropdown);\n    wrapper.appendChild(inner);\n    container.appendChild(wrapper);\n  } else {\n    // Clear existing options if dropdown exists\n    dropdown.innerHTML = \"\";\n  }\n\n  // Define sort options\n  const sortOptions = [\n    { value: \"relevance\", label: \"Relevance\", selected: true },\n    { value: \"date-newest\", label: \"Date (newest first)\" },\n    { value: \"date-oldest\", label: \"Date (oldest first)\" },\n    { value: \"title-az\", label: \"Title (A-Z)\" },\n    { value: \"title-za\", label: \"Title (Z-A)\" },\n  ];\n\n  // Add options to dropdown\n  sortOptions.forEach((opt) => {\n    const option = document.createElement(\"option\");\n    option.value = opt.value;\n    option.textContent = opt.label;\n    if (opt.selected) option.selected = true;\n    dropdown.appendChild(option);\n  });\n}\n\n/**\n * Add chevron-down icons to dropdowns\n * Icons are displayed via CSS ::before pseudo-elements\n */\nfunction addDropdownIcons() {\n  // Add icon to work area dropdown\n  const workAreaDropdown = document.getElementById(\"document_type\");\n  if (\n    workAreaDropdown &&\n    !workAreaDropdown.parentElement.querySelector(\".aikb-dropdown-icon\")\n  ) {\n    const icon = document.createElement(\"div\");\n    icon.className = \"aikb-dropdown-icon\";\n    icon.setAttribute(\"data-colour\", \"NTG Blue\");\n\n    const wrapper = workAreaDropdown.closest(\".aikb-dropdown-wrapper\");\n    if (wrapper) {\n      const inner = wrapper.querySelector(\".aikb-dropdown-inner\");\n      if (inner) {\n        inner.appendChild(icon);\n      }\n    }\n  }\n\n  // Add icon to sort dropdown\n  const sortDropdown = document.getElementById(\"owner\");\n  if (\n    sortDropdown &&\n    !sortDropdown.parentElement.querySelector(\".aikb-dropdown-icon\")\n  ) {\n    const icon = document.createElement(\"div\");\n    icon.className = \"aikb-dropdown-icon\";\n    icon.setAttribute(\"data-colour\", \"NTG Blue\");\n\n    const wrapper = sortDropdown.closest(\".aikb-dropdown-wrapper\");\n    if (wrapper) {\n      const inner = wrapper.querySelector(\".aikb-dropdown-inner\");\n      if (inner) {\n        inner.appendChild(icon);\n      }\n    }\n  }\n}\n\n/**\n * Initialize dropdowns with data from search results\n * @param {Array} results - Array of search result objects\n * @param {Array<string>} workAreasFromFetch - Optional pre-fetched work areas list\n */\nexport function initializeDropdowns(results, workAreasFromFetch = null) {\n  // Use static work areas if available, otherwise extract from results\n  let workAreas;\n  if (workAreasFromFetch && workAreasFromFetch.length > 0) {\n    workAreas = workAreasFromFetch;\n  } else if (staticWorkAreas.length > 0) {\n    workAreas = staticWorkAreas;\n  } else {\n    workAreas = extractWorkAreas(results);\n  }\n\n  populateWorkAreaDropdown(workAreas);\n\n  // Populate sort options\n  populateSortDropdown();\n\n  // Add chevron icons\n  addDropdownIcons();\n}\n\n/**\n * Initialize on page load with empty state\n */\nexport function initializeEmptyDropdowns() {\n  // Dynamically create the search input and icon\n  populateSearchInput();\n\n  // Populate sort options (not data-dependent)\n  populateSortDropdown();\n\n  // Add default \"Select a work area\" to work area dropdown\n  populateWorkAreaDropdown([]);\n\n  // Add chevron icons\n  addDropdownIcons();\n}\n", "/**\n * Applied Filters Display Module\n * Manages the display and interaction of applied filter pills\n */\n\n/**\n * Display applied filters as pills\n * @param {Object} filters - Object containing active filters\n */\nexport function displayAppliedFilters(filters) {\n  const section = document.getElementById(\"appliedFiltersSection\");\n  const container = document.getElementById(\"appliedFilters\");\n  const clearAllBtn = document.getElementById(\"clearAllBtn\");\n\n  if (!section || !container) {\n    return;\n  }\n\n  // Clear existing pills\n  container.innerHTML = \"\";\n\n  let hasFilters = false;\n\n  // Add search query pill (green)\n  if (filters.searchQuery && filters.searchQuery.trim()) {\n    hasFilters = true;\n    const pill = createFilterPill(\n      \"Search\",\n      filters.searchQuery,\n      \"bg-success\",\n      \"search\",\n    );\n    container.appendChild(pill);\n  }\n\n  // Add work area pills (primary blue) - create separate pill for each selected work area\n  if (filters.workAreas && Array.isArray(filters.workAreas)) {\n    filters.workAreas.forEach((workArea) => {\n      if (workArea && workArea.trim()) {\n        hasFilters = true;\n        const pill = createFilterPill(\n          \"Work area\",\n          workArea,\n          \"bg-primary\",\n          \"work-area\",\n          workArea, // Pass work area value for individual removal\n        );\n        container.appendChild(pill);\n      }\n    });\n  }\n\n  // Do not add sort pill\n\n  // Always show Clear All button when any filter is active\n  if (clearAllBtn) {\n    clearAllBtn.style.display = hasFilters ? \"inline-flex\" : \"none\";\n    clearAllBtn.style.marginLeft = \"8px\";\n    clearAllBtn.style.verticalAlign = \"middle\";\n    clearAllBtn.style.alignItems = \"center\";\n    container.appendChild(clearAllBtn);\n  }\n\n  // Show/hide section based on whether filters are active\n  section.style.display = hasFilters ? \"block\" : \"none\";\n}\n\n/**\n * Get user-friendly label for sort option\n * @param {string} sortValue - Sort value\n * @returns {string} - User-friendly label\n */\nfunction getSortLabel(sortValue) {\n  const sortLabels = {\n    relevance: \"Relevance\",\n    \"date-newest\": \"Date (newest first)\",\n    \"date-oldest\": \"Date (oldest first)\",\n    \"title-az\": \"Title (A-Z)\",\n    \"title-za\": \"Title (Z-A)\",\n  };\n  return sortLabels[sortValue] || sortValue;\n}\n\n/**\n * Create a filter pill element\n * @param {string} label - Filter category label\n * @param {string} value - Filter value\n * @param {string} badgeClass - Bootstrap badge class (bg-success, bg-primary, etc.)\n * @param {string} filterType - Type of filter for removal\n * @param {string} filterValue - Specific value to remove (for multi-value filters)\n * @returns {HTMLElement} - Filter pill element\n */\nfunction createFilterPill(label, value, badgeClass, filterType, filterValue) {\n  const pill = document.createElement(\"span\");\n  pill.className = `badge ${badgeClass} filter-pill d-inline-flex align-items-center`;\n\n  const pillLabel = document.createElement(\"span\");\n  pillLabel.className = \"pill-label\";\n  pillLabel.textContent = `${label}:`;\n\n  const pillValue = document.createElement(\"span\");\n  pillValue.className = \"pill-value\";\n  pillValue.textContent = value;\n\n  const removeButton = document.createElement(\"button\");\n  removeButton.type = \"button\";\n  removeButton.className = \"pill-remove\";\n  removeButton.title = `Remove ${label}: ${value}`;\n  removeButton.setAttribute(\"data-filter-type\", filterType);\n  if (filterValue) {\n    removeButton.setAttribute(\"data-filter-value\", filterValue);\n  }\n\n  const icon = document.createElement(\"span\");\n  icon.className = \"fas fa-times\";\n\n  removeButton.appendChild(icon);\n\n  // Add click handler\n  removeButton.addEventListener(\"click\", (e) => {\n    e.preventDefault();\n    removeFilter(filterType, filterValue);\n  });\n\n  pill.appendChild(pillLabel);\n  pill.appendChild(pillValue);\n  pill.appendChild(removeButton);\n\n  return pill;\n}\n\n/**\n * Remove a specific filter\n * @param {string} filterType - Type of filter to remove\n * @param {string} filterValue - Specific value to remove (optional)\n */\nasync function removeFilter(filterType, filterValue) {\n  switch (filterType) {\n    case \"search\":\n      // Clear search input\n      const searchInput = document.getElementById(\"search\");\n      if (searchInput) {\n        searchInput.value = \"\";\n\n        // Update applied filters display immediately\n        const updatedFilters = getCurrentFilters();\n        displayAppliedFilters(updatedFilters);\n\n        // Trigger reload of initial results\n        const { loadInitialResults } =\n          await import(\"./load-initial-results.js\");\n        loadInitialResults();\n      }\n      break;\n\n    case \"work-area\":\n      // Remove specific work area from multi-select\n      const workAreaDropdown = document.getElementById(\"document_type\");\n      if (workAreaDropdown && filterValue) {\n        if (window.jQuery && window.jQuery.fn.SumoSelect) {\n          // Use SumoSelect API to get current values\n          let currentValues = window.jQuery(\"#document_type\").val() || [];\n          // Remove the specific work area\n          currentValues = currentValues.filter((val) => val !== filterValue);\n          // Update SumoSelect with new values\n          window.jQuery(\"#document_type\").val(currentValues)[0].sumo.reload();\n        } else {\n          // Fallback to native multi-select\n          Array.from(workAreaDropdown.options).forEach((option) => {\n            if (option.value === filterValue) {\n              option.selected = false;\n            }\n          });\n        }\n\n        // Trigger change event to reapply filters\n        const changeEvent = new Event(\"change\", { bubbles: true });\n        workAreaDropdown.dispatchEvent(changeEvent);\n      }\n      break;\n\n    // ...existing code...\n  }\n}\n\n/**\n * Clear all filters\n */\nexport async function clearAllFilters() {\n  // Clear search input\n  const searchInput = document.getElementById(\"search\");\n  if (searchInput) {\n    searchInput.value = \"\";\n  }\n\n  // Clear work area dropdown (reset multi-select to empty)\n  const workAreaDropdown = document.getElementById(\"document_type\");\n  if (workAreaDropdown) {\n    if (window.jQuery && window.jQuery.fn.SumoSelect) {\n      // Use SumoSelect API to clear selections\n      window.jQuery(\"#document_type\").val([]);\n    } else {\n      // Fallback to native multi-select\n      Array.from(workAreaDropdown.options).forEach((option) => {\n        option.selected = false;\n      });\n    }\n  }\n\n  // Hide applied filters section\n  const section = document.getElementById(\"appliedFiltersSection\");\n  if (section) {\n    section.style.display = \"none\";\n  }\n\n  // Reload initial results (this will reinitialize SumoSelect properly)\n  const { loadInitialResults } = await import(\"./load-initial-results.js\");\n  loadInitialResults();\n}\n\n/**\n * Initialize \"Clear All\" button\n */\nexport function initClearAllButton() {\n  const clearAllBtn = document.getElementById(\"clearAllBtn\");\n  if (clearAllBtn) {\n    clearAllBtn.addEventListener(\"click\", (e) => {\n      e.preventDefault();\n      clearAllFilters();\n    });\n  }\n}\n\n/**\n * Get current filter state\n * @returns {Object} - Current filter state\n */\nexport function getCurrentFilters() {\n  const searchInput = document.getElementById(\"search\");\n  const workAreaDropdown = document.getElementById(\"document_type\");\n  const sortDropdown =\n    document.getElementById(\"sort\") || document.getElementById(\"owner\");\n\n  // Get work areas as array\n  let workAreas = [];\n  if (workAreaDropdown) {\n    if (window.jQuery && window.jQuery.fn.SumoSelect) {\n      // Use SumoSelect API to get selected values as array\n      workAreas = window.jQuery(\"#document_type\").val() || [];\n    } else {\n      // Fallback to native multi-select behavior\n      const selectedOptions = Array.from(\n        workAreaDropdown.selectedOptions || [],\n      );\n      workAreas = selectedOptions.map((option) => option.value);\n    }\n  }\n\n  const filters = {\n    searchQuery: searchInput ? searchInput.value : \"\",\n    workAreas: workAreas,\n    sort: sortDropdown ? sortDropdown.value : \"relevance\",\n  };\n\n  return filters;\n}\n", "// Client-side filtering and sorting for search results\nimport { displayAppliedFilters, getCurrentFilters } from \"./applied-filters.js\";\n\nlet allResults = []; // Store all results for filtering/sorting\n\n/**\n * Store search results for filtering and sorting\n * Deduplicates results based on URL to prevent duplicate entries\n * @param {Array} results - Array of search result objects\n */\nexport function storeResults(results) {\n  // Deduplicate results based on URL before storing\n  const seenKeys = new Set();\n  const deduplicatedResults = [];\n\n  results.forEach((result, index) => {\n    // Create unique identifier - use URL, title, or JSON stringify as final fallback\n    const uniqueKey =\n      result.liveUrl ||\n      result.url ||\n      result.title ||\n      JSON.stringify(result) + index;\n\n    if (!seenKeys.has(uniqueKey)) {\n      seenKeys.add(uniqueKey);\n      deduplicatedResults.push(result);\n    }\n  });\n\n  allResults = deduplicatedResults;\n}\n\n/**\n * Filter results by work area(s)\n * @param {Array<string>|string} selectedWorkAreas - Selected work area values (array or single string)\n * @returns {Array} - Filtered results\n */\nfunction filterByWorkArea(selectedWorkAreas) {\n  // Normalize to array\n  let workAreasArray = [];\n  if (Array.isArray(selectedWorkAreas)) {\n    workAreasArray = selectedWorkAreas.filter((area) => area && area.trim());\n  } else if (selectedWorkAreas && selectedWorkAreas.trim()) {\n    workAreasArray = [selectedWorkAreas];\n  }\n\n  // If no work areas selected, return all results\n  if (workAreasArray.length === 0) {\n    return allResults;\n  }\n\n  // Filter results using OR logic: result must contain AT LEAST ONE of the selected work areas\n  const filtered = allResults.filter((result) => {\n    if (!result.listMetadata || !result.listMetadata[\"Work area\"]) {\n      return false;\n    }\n\n    const resultWorkAreas = result.listMetadata[\"Work area\"];\n\n    // Ensure resultWorkAreas is an array before processing\n    if (!Array.isArray(resultWorkAreas)) {\n      return false;\n    }\n\n    // Check if AT LEAST ONE selected work area is in this result's work areas (OR logic)\n    return workAreasArray.some((selectedArea) =>\n      resultWorkAreas.includes(selectedArea),\n    );\n  });\n\n  return filtered;\n}\n\n/**\n * Sort results by selected criteria\n * @param {Array} results - Results to sort\n * @param {string} sortBy - Sort criteria (relevance, date-newest, date-oldest, title-az, title-za)\n * @returns {Array} - Sorted results\n */\nfunction sortResults(results, sortBy) {\n  const sorted = [...results]; // Create copy to avoid mutating original\n\n  switch (sortBy) {\n    case \"relevance\":\n      // Sort by rank (lower is better) or score (higher is better)\n      sorted.sort((a, b) => {\n        if (a.rank && b.rank) {\n          return a.rank - b.rank;\n        }\n        if (a.score && b.score) {\n          return b.score - a.score;\n        }\n        return 0;\n      });\n      break;\n\n    case \"date-newest\":\n      sorted.sort((a, b) => {\n        const dateA = a.dateTimestamp || 0;\n        const dateB = b.dateTimestamp || 0;\n        return dateB - dateA; // Newest first\n      });\n      break;\n\n    case \"date-oldest\":\n      sorted.sort((a, b) => {\n        const dateA = a.dateTimestamp || 0;\n        const dateB = b.dateTimestamp || 0;\n        return dateA - dateB; // Oldest first\n      });\n      break;\n\n    case \"title-az\":\n      sorted.sort((a, b) => {\n        const titleA = a.title || \"\";\n        const titleB = b.title || \"\";\n        return titleA.localeCompare(titleB);\n      });\n      break;\n\n    case \"title-za\":\n      sorted.sort((a, b) => {\n        const titleA = a.title || \"\";\n        const titleB = b.title || \"\";\n        return titleB.localeCompare(titleA);\n      });\n      break;\n\n    default:\n      // No sorting or unknown sort option\n      break;\n  }\n\n  return sorted;\n}\n\n/**\n * Sort cards in the DOM by data attributes\n * @param {string} sortBy - Sort criteria (relevance, date-newest, date-oldest, title-az, title-za)\n */\nfunction sortCardsInDOM(sortBy) {\n  const container = document.getElementById(\"search-results-list\");\n  if (!container) return;\n\n  const cards = Array.from(container.querySelectorAll(\".aikb-search-card\"));\n\n  cards.sort((a, b) => {\n    switch (sortBy) {\n      case \"relevance\":\n        // Higher relevance first\n        const relA = parseFloat(a.getAttribute(\"data-sort-relevance\")) || 0;\n        const relB = parseFloat(b.getAttribute(\"data-sort-relevance\")) || 0;\n        return relB - relA;\n\n      case \"date-newest\":\n        // Newer dates first (higher timestamp)\n        const dateA = parseFloat(a.getAttribute(\"data-sort-date\")) || 0;\n        const dateB = parseFloat(b.getAttribute(\"data-sort-date\")) || 0;\n        return dateB - dateA;\n\n      case \"date-oldest\":\n        // Older dates first (lower timestamp)\n        const dateC = parseFloat(a.getAttribute(\"data-sort-date\")) || 0;\n        const dateD = parseFloat(b.getAttribute(\"data-sort-date\")) || 0;\n        return dateC - dateD;\n\n      case \"title-az\":\n        // A to Z\n        const titleA = a.getAttribute(\"data-sort-title\") || \"\";\n        const titleB = b.getAttribute(\"data-sort-title\") || \"\";\n        return titleA.localeCompare(titleB);\n\n      case \"title-za\":\n        // Z to A\n        const titleC = a.getAttribute(\"data-sort-title\") || \"\";\n        const titleD = b.getAttribute(\"data-sort-title\") || \"\";\n        return titleD.localeCompare(titleC);\n\n      default:\n        return 0;\n    }\n  });\n\n  // Re-append cards in sorted order\n  cards.forEach((card) => container.appendChild(card));\n}\n\n// Track if filter/sort is currently being applied to prevent concurrent executions\nlet isApplying = false;\n\n/**\n * Apply filters and sorting, then render results\n */\nexport async function applyFiltersAndSort() {\n  // Prevent concurrent executions\n  if (isApplying) {\n    return;\n  }\n\n  isApplying = true;\n\n  try {\n    // Get work area dropdown\n    const workAreaDropdown = document.getElementById(\"document_type\");\n    // Support both legacy id=\"owner\" and current id=\"sort\"\n    const sortDropdown =\n      document.getElementById(\"sort\") || document.getElementById(\"owner\");\n\n    if (!workAreaDropdown || !sortDropdown) {\n      return;\n    }\n\n    // Get selected work areas (array from SumoSelect or native multi-select)\n    let selectedWorkAreas;\n    if (window.jQuery && window.jQuery.fn.SumoSelect) {\n      // Use SumoSelect API to get selected values as array\n      selectedWorkAreas = window.jQuery(\"#document_type\").val() || [];\n    } else {\n      // Fallback to native multi-select behavior\n      const selectedOptions = Array.from(\n        workAreaDropdown.selectedOptions || [],\n      );\n      selectedWorkAreas = selectedOptions.map((option) => option.value);\n    }\n\n    const selectedSort = sortDropdown.value || \"relevance\";\n\n    // Filter by work area(s)\n    let filtered = filterByWorkArea(selectedWorkAreas);\n\n    // Sort results (for pagination compatibility)\n    let sorted = sortResults(filtered, selectedSort);\n\n    // Render filtered and sorted results\n    const { renderResults } = await import(\"./search-card-template.js\");\n    renderResults(sorted, \"search-results-list\");\n\n    // Apply DOM-based sorting using data attributes\n    sortCardsInDOM(selectedSort);\n\n    // Display applied filters\n    const currentFilters = getCurrentFilters();\n    displayAppliedFilters(currentFilters);\n  } finally {\n    isApplying = false;\n  }\n}\n\n// Track if listeners have been initialized to prevent duplicate event handlers\nlet listenersInitialized = false;\n\n/**\n * Initialize filter and sort listeners\n */\nexport function initializeFiltersAndSort() {\n  // Prevent multiple initializations that would create duplicate event listeners\n  if (listenersInitialized) {\n    return;\n  }\n\n  const workAreaDropdown = document.getElementById(\"document_type\");\n  // Support both legacy id=\"owner\" and current id=\"sort\"\n  const sortDropdown =\n    document.getElementById(\"sort\") || document.getElementById(\"owner\");\n\n  if (workAreaDropdown) {\n    workAreaDropdown.addEventListener(\"change\", function () {\n      applyFiltersAndSort();\n    });\n  }\n\n  if (sortDropdown) {\n    sortDropdown.addEventListener(\"change\", function () {\n      applyFiltersAndSort();\n    });\n  }\n\n  listenersInitialized = true;\n}\n", "// Load initial search results from local search or live API on page load\nimport { renderResults } from \"./search-card-template.js\";\nimport {\n  initializeDropdowns,\n  setStaticWorkAreas,\n} from \"./populate-dropdowns.js\";\nimport { storeResults, initializeFiltersAndSort } from \"./search-filters.js\";\nimport {\n  getPrimaryDataSource,\n  getFallbackDataSource,\n  getWorkAreasDataSource,\n  getConfig,\n} from \"./config.js\";\n\nlet fetchedWorkAreas = null;\n\n/**\n * Fetch work areas list from static source\n * @returns {Promise<Array<string>>} Promise that resolves to array of work areas\n */\nasync function fetchWorkAreasList() {\n  const workAreasSource = getWorkAreasDataSource();\n\n  try {\n    const response = await fetch(workAreasSource);\n    if (!response.ok) {\n      throw new Error(`HTTP error! status: ${response.status}`);\n    }\n    const data = await response.json();\n    return Array.isArray(data) ? data : [];\n  } catch (error) {\n    return null; // Will fall back to extracting from results\n  }\n}\n\n// Export for use in search-form-handler\nexport function loadInitialResults() {\n  // Check if we're on a page with search results container\n  const searchResultsContainer = document.getElementById(\"search-results-list\");\n  if (!searchResultsContainer) {\n    return; // Not on search results page\n  }\n\n  const config = getConfig();\n  const primarySource = getPrimaryDataSource();\n  const fallbackSource = getFallbackDataSource();\n\n  // Fetch work areas list first (parallel with results loading)\n  fetchWorkAreasList().then((workAreas) => {\n    if (workAreas) {\n      fetchedWorkAreas = workAreas;\n      setStaticWorkAreas(workAreas);\n    }\n  });\n\n  // Fetch from primary data source\n  fetch(primarySource)\n    .then((response) => {\n      if (!response.ok) {\n        throw new Error(`HTTP error! status: ${response.status}`);\n      }\n      return response.json();\n    })\n    .then((data) => {\n      processAndRenderResults(data, config.isProduction ? \"live-api\" : \"local\");\n    })\n    .catch((primaryError) => {\n      // Only try fallback if in production\n      if (fallbackSource) {\n        fetch(fallbackSource)\n          .then((response) => {\n            if (!response.ok) {\n              throw new Error(`HTTP error! status: ${response.status}`);\n            }\n            return response.json();\n          })\n          .then((data) => {\n            processAndRenderResults(data, \"fallback\");\n          })\n          .catch((fallbackError) => {\n            displayErrorMessage();\n          });\n      } else {\n        // Local dev with no fallback - show error\n        displayErrorMessage();\n      }\n    });\n}\n\nfunction displayErrorMessage() {\n  const container = document.getElementById(\"search-results-list\");\n  if (container) {\n    container.innerHTML =\n      '<p class=\"aikb-error\">Unable to load search results. Please check your connection and try again later.</p>';\n  }\n}\n\nfunction processAndRenderResults(data, source = \"unknown\") {\n  // Handle array data directly (local JSON format)\n  const results = Array.isArray(data) ? data : [];\n\n  // Map to card template format\n  const mappedResults = results.map((result) => {\n    // Parse timestamp for sorting\n    const dateTimestamp = result[\"last-updated\"]\n      ? new Date(result[\"last-updated\"]).getTime()\n      : 0;\n\n    return {\n      title: result.title || \"\",\n      summary: result.description || result.summary || \"\",\n      listMetadata: {\n        \"Work area\": result[\"work-area\"] || [],\n        Roles: result.roles || [],\n        Benefits: result.benefits || [],\n      },\n      date: result[\"last-updated\"]\n        ? new Date(result[\"last-updated\"]).toLocaleDateString(\"en-AU\", {\n            year: \"numeric\",\n            month: \"long\",\n          })\n        : \"\",\n      dateTimestamp: dateTimestamp,\n      liveUrl: result.url || result.liveUrl || \"\",\n      submittedBy: result[\"submitted-by\"] || \"\",\n      rank: result.rank || 0,\n      score: result.score || 0,\n    };\n  });\n\n  // Deduplicate results before storing/caching\n  const seenKeys = new Set();\n  const deduplicatedResults = [];\n\n  mappedResults.forEach((result, index) => {\n    // Create unique identifier - use URL, title, or JSON stringify as final fallback\n    const uniqueKey =\n      result.liveUrl ||\n      result.url ||\n      result.title ||\n      JSON.stringify(result) + index;\n\n    if (!seenKeys.has(uniqueKey)) {\n      seenKeys.add(uniqueKey);\n      deduplicatedResults.push(result);\n    }\n  });\n\n  // Store results for filtering/sorting\n  storeResults(deduplicatedResults);\n\n  // Cache results for offline search\n  window.aikbSearchCache = deduplicatedResults;\n\n  // Initialize dropdowns with work area data\n  // Pass fetched work areas if available\n  initializeDropdowns(deduplicatedResults, fetchedWorkAreas);\n\n  // Initialize filter and sort listeners after each results update\n  initializeFiltersAndSort();\n\n  // Render cards using the template\n  renderResults(deduplicatedResults, \"search-results-list\");\n}\n\n// Wait for complete page load (not just DOM ready)\nwindow.addEventListener(\"load\", function () {\n  // Extra delay after full page load to ensure all scripts initialized\n  setTimeout(loadInitialResults, 200);\n});\n", "// Search form handler - Enter key trigger\nimport { searchLocalData, getCachedData } from \"./offline-search.js\";\nimport { loadInitialResults } from \"./load-initial-results.js\";\nimport { renderResults } from \"./search-card-template.js\";\nimport { storeResults, applyFiltersAndSort } from \"./search-filters.js\";\n\n// Wait for DOM ready\nwindow.addEventListener(\"DOMContentLoaded\", function () {\n  const searchInput = document.getElementById(\"search\");\n\n  if (!searchInput) {\n    return;\n  }\n\n  // Enter key triggers search\n  searchInput.addEventListener(\"keydown\", function (e) {\n    if (e.key === \"Enter\") {\n      e.preventDefault();\n      const query = searchInput.value.trim();\n\n      if (query === \"\") {\n        // Empty Enter reloads initial results\n        loadInitialResults();\n      } else {\n        // Perform immediate offline search for fast results\n        const cachedData = getCachedData();\n\n        if (cachedData && cachedData.length > 0) {\n          const results = searchLocalData(query, cachedData);\n          storeResults(results);\n          applyFiltersAndSort();\n        } else {\n          const $container = window.$(\"#search-results-list\");\n          if ($container && $container.length > 0) {\n            $container.html(\n              '<p class=\"aikb-error\">Unable to load search results. Please check your connection and try again.</p>',\n            );\n          }\n        }\n      }\n    }\n  });\n});\n", "// Alias CTA anchors to reuse NTGC primary button styling\r\nconst CTA_SELECTOR = 'div[data-hydration-component=\"squiz-call-to-action\"] a';\r\nconst CTA_CONTAINER_SELECTOR =\r\n  'div[data-hydration-component=\"squiz-call-to-action\"]';\r\n\r\nfunction applyCtaButtonAlias(root = document) {\r\n  const anchors = root.querySelectorAll(CTA_SELECTOR);\r\n  anchors.forEach((anchor) => {\r\n    anchor.classList.add(\"ntgc-btn\", \"ntgc-btn--primary\");\r\n  });\r\n}\r\n\r\nfunction applyCtaLayoutClasses(root = document) {\r\n  const ctaContainers = root.querySelectorAll(CTA_CONTAINER_SELECTOR);\r\n  ctaContainers.forEach((container) => {\r\n    // Find anchor with \"Submit your own use case\" text\r\n    const submitAnchor = container.querySelector('a[href=\"#\"]');\r\n    if (\r\n      submitAnchor &&\r\n      submitAnchor.textContent.trim() === \"Submit your own use case\"\r\n    ) {\r\n      container.classList.add(\"aikb-cta-submit\");\r\n    }\r\n  });\r\n}\r\n\r\nfunction wrapWelcomeText(root = document) {\r\n  // Find the h2 with specific text\r\n  const h2Elements = root.querySelectorAll(\"h2\");\r\n  let targetH2 = null;\r\n\r\n  h2Elements.forEach((h2) => {\r\n    if (h2.textContent.trim() === \"Welcome to NTG's AI knowledge base\") {\r\n      targetH2 = h2;\r\n    }\r\n  });\r\n\r\n  if (!targetH2) return;\r\n\r\n  // Get the next sibling paragraph\r\n  const nextP = targetH2.nextElementSibling;\r\n  if (!nextP || nextP.tagName !== \"P\") return;\r\n\r\n  // Check if already wrapped\r\n  if (targetH2.parentElement.classList.contains(\"aikb-welcome-wrapper\")) {\r\n    return;\r\n  }\r\n\r\n  // Create wrapper div\r\n  const wrapper = document.createElement(\"div\");\r\n  wrapper.classList.add(\"aikb-welcome-wrapper\");\r\n\r\n  // Insert wrapper before h2\r\n  targetH2.parentNode.insertBefore(wrapper, targetH2);\r\n\r\n  // Move h2 and p into wrapper\r\n  wrapper.appendChild(targetH2);\r\n  wrapper.appendChild(nextP);\r\n}\r\n\r\nif (document.readyState === \"loading\") {\r\n  document.addEventListener(\"DOMContentLoaded\", () => {\r\n    applyCtaButtonAlias();\r\n    applyCtaLayoutClasses();\r\n    wrapWelcomeText();\r\n  });\r\n} else {\r\n  applyCtaButtonAlias();\r\n  applyCtaLayoutClasses();\r\n  wrapWelcomeText();\r\n}\r\n", "// Import all JS modules for landing page bundle (except content-page.js)\nimport \"./config.js\";\nimport \"./search-form-handler.js\";\nimport \"./search-filters.js\";\nimport \"./search-card-template.js\";\nimport \"./populate-dropdowns.js\";\nimport \"./offline-search.js\";\nimport \"./load-initial-results.js\";\nimport \"./cta-button-alias.js\";\nimport \"./pagination.js\";\nimport { initClearAllButton } from \"./applied-filters.js\";\n\n// Confirm bundle loaded successfully\n\n// Initialize clear all button after page loads\nwindow.addEventListener(\"load\", function () {\n  initClearAllButton();\n});\n"],
  "mappings": "qnBASO,SAASA,IAAe,CAC7B,OAAO,OAAO,SAAS,WAAa,sBACtC,CAMO,SAASC,GAAY,CAW1B,MAVe,CACb,aAAcD,GAAa,EAC3B,WACE,4JACF,gBAAiB,qBACjB,aAAcA,GAAa,EACvB,8JACA,4BACN,CAGF,CAQO,SAASE,IAAuB,CACrC,IAAMC,EAASF,EAAU,EACzB,OAAOE,EAAO,aAAeA,EAAO,WAAaA,EAAO,eAC1D,CAOO,SAASC,IAAwB,CACtC,IAAMD,EAASF,EAAU,EACzB,OAAOE,EAAO,aAAeA,EAAO,gBAAkB,IACxD,CAQO,SAASE,IAAyB,CAEvC,OADeJ,EAAU,EACX,YAChB,CA7DA,IAmEaK,GAnEbC,EAAAC,EAAA,KAmEaF,GAAc,IAAI,IAAI,CACjC,IACA,KACA,MACA,KACA,KACA,MACA,MACA,MACA,KACA,KACA,KACA,OACA,MACA,KACA,MACA,OACA,KACA,MACA,KACA,KACA,KACA,OACA,MACA,MACA,OACA,MACA,KACA,MACA,MACA,QACA,OACA,KACA,QACA,MACA,OACA,OACA,MACA,MACA,MACA,OACA,QACA,IACA,KACA,KACA,KACA,KACA,KACA,MACA,KACA,KACA,KACA,MACA,MACA,MACA,KACA,MACA,KACA,KACA,MACA,OACA,KACA,MACA,KACA,MACA,KACA,OACA,OACA,MACA,QACA,OACA,OACA,QACA,QACA,OACA,OACA,QACA,OACA,KACA,MACA,KACA,KACA,QACA,KACA,OACA,KACA,OACA,MACA,MACA,KACA,OACA,OACA,OACA,OACA,QACA,QACA,QACA,MACA,MACA,MACA,MACA,OACA,OACF,CAAC,ICvJD,SAASG,GAAcC,EAAO,CAE5B,IAAMC,EAAUD,EAAM,QAAQ,WAAY,GAAG,EAAE,KAAK,EAEpD,OAAKC,EAGSA,EAAQ,MAAM,KAAK,EAAE,OAAQC,GAASA,EAAK,OAAS,CAAC,EAG9C,OAAQA,GAAS,CACpC,IAAMC,EAAYD,EAAK,YAAY,EAGnC,OAAIE,GAAY,IAAID,CAAS,EAEpBD,IAASA,EAAK,YAAY,GAAKA,EAAK,QAAU,EAIhD,EA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",
  "names": ["isProduction", "getConfig", "getPrimaryDataSource", "config", "getFallbackDataSource", "getWorkAreasDataSource", "NOISE_WORDS", "init_config", "__esmMin", "tokenizeQuery", "query", "cleaned", "word", "lowerWord", "NOISE_WORDS", "token", "normalizeText", "text", "countTermFrequency", "term", "normalized", "fullWordRegex", "fullWordMatches", "fullWordCount", "partialRegex", "allMatches", "totalMatches", "partialCount", "extractMetadata", "result", "parts", "scoreTermInResult", "titleText", "summaryText", "metadataText", "titleTF", "summaryTF", "metadataTF", "titleScore", "summaryScore", "metadataScore", "totalScore", "getDocumentLength", "titleLength", "summaryLength", "metadataLength", "searchLocalData", "keywords", "results", "terms", "matchedResults", "matchedTerms", "termScores", "termScore", "docLength", "normalizedScore", "a", "b", "getCachedData", "init_offline_search", "__esmMin", "init_config", "pagination_exports", "__export", "getCurrentPage", "getCurrentPageResults", "getTotalPages", "initializePagination", "updatePagination", "results", "perPage", "allResults", "itemsPerPage", "totalItems", "currentPage", "ensurePaginationContainer", "renderPaginationControls", "startIndex", "endIndex", "paginationContainer", "searchResultsContainer", "totalPages", "wrapper", "prevButton", "createControlButton", "goToPage", "pageNumbers", "createPageNumbers", "nextButton", "label", "enabled", "onClick", "button", "iconLabel", "icon", "text", "container", "calculatePageRange", "page", "ellipsis", "pageButton", "pageText", "current", "total", "_", "i", "pages", "start", "end", "event", "top", "init_pagination", "__esmMin", "search_card_template_exports", "__export", "renderResults", "formatDate", "dateStr", "date", "highlightMatches", "text", "matchedTerms", "highlighted", "a", "b", "term", "regex", "setHighlightedHTML", "element", "htmlString", "doc", "node", "createSearchCard", "result", "card", "relevance", "dateTimestamp", "inner", "content", "textSection", "title", "highlightedTitle", "summary", "highlightedSummary", "workAreas", "tagsContainer", "workArea", "tag", "actions", "button", "buttonText", "icon", "metadata", "roles", "usefulRow", "value", "label", "rolesText", "highlightedRoles", "tempSpan", "dateEl", "results", "containerId", "usePagination", "container", "$container", "noResults", "initializePagination", "getCurrentPageResults", "paginationListenerAdded", "init_search_card_template", "__esmMin", "event", "extractWorkAreas", "results", "workAreaSet", "result", "workAreas", "area", "trimmed", "a", "b", "setStaticWorkAreas", "staticWorkAreas", "populateWorkAreaDropdown", "dropdown", "allOption", "workArea", "option", "event", "populateSortDropdown", "container", "label", "newLabel", "wrapper", "inner", "opt", "addDropdownIcons", "workAreaDropdown", "icon", "sortDropdown", "initializeDropdowns", "workAreasFromFetch", "init_populate_dropdowns", "__esmMin", "displayAppliedFilters", "filters", "section", "container", "clearAllBtn", "hasFilters", "pill", "createFilterPill", "workArea", "label", "value", "badgeClass", "filterType", "filterValue", "pillLabel", "pillValue", "removeButton", "icon", "e", "removeFilter", "searchInput", "updatedFilters", "getCurrentFilters", "loadInitialResults", "workAreaDropdown", "currentValues", "val", "option", "changeEvent", "clearAllFilters", "initClearAllButton", "sortDropdown", "workAreas", "init_applied_filters", "__esmMin", "storeResults", "results", "seenKeys", "deduplicatedResults", "result", "index", "uniqueKey", "allResults", "filterByWorkArea", "selectedWorkAreas", "workAreasArray", "area", "resultWorkAreas", "selectedArea", "sortResults", "sortBy", "sorted", "b", "dateA", "dateB", "titleA", "titleB", "sortCardsInDOM", "container", "cards", "relA", "dateC", "dateD", "titleC", "card", "applyFiltersAndSort", "isApplying", "workAreaDropdown", "sortDropdown", "option", "selectedSort", "filtered", "renderResults", "currentFilters", "getCurrentFilters", "displayAppliedFilters", "initializeFiltersAndSort", "listenersInitialized", "init_search_filters", "__esmMin", "init_applied_filters", "load_initial_results_exports", "__export", "loadInitialResults", "fetchWorkAreasList", "workAreasSource", "getWorkAreasDataSource", "response", "data", "config", "getConfig", "primarySource", "getPrimaryDataSource", "fallbackSource", "getFallbackDataSource", "workAreas", "fetchedWorkAreas", "setStaticWorkAreas", "processAndRenderResults", "primaryError", "fallbackError", "displayErrorMessage", "container", "source", "mappedResults", "result", "dateTimestamp", "seenKeys", "deduplicatedResults", "index", "uniqueKey", "storeResults", "initializeDropdowns", "initializeFiltersAndSort", "renderResults", "init_load_initial_results", "__esmMin", "init_search_card_template", "init_populate_dropdowns", "init_search_filters", "init_config", "require_search_form_handler", "__commonJSMin", "init_offline_search", "init_load_initial_results", "init_search_card_template", "init_search_filters", "searchInput", "e", "query", "loadInitialResults", "cachedData", "getCachedData", "results", "searchLocalData", "storeResults", "applyFiltersAndSort", "$container", "require_cta_button_alias", "__commonJSMin", "CTA_SELECTOR", "CTA_CONTAINER_SELECTOR", "applyCtaButtonAlias", "root", "anchor", "applyCtaLayoutClasses", "container", "submitAnchor", "wrapWelcomeText", "h2Elements", "targetH2", "h2", "nextP", "wrapper", "require_landing_page", "__commonJSMin", "init_config", "import_search_form_handler", "init_search_filters", "init_search_card_template", "init_populate_dropdowns", "init_offline_search", "init_load_initial_results", "import_cta_button_alias", "init_pagination", "init_applied_filters", "initClearAllButton"]
}
