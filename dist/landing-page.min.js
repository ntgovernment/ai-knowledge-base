(()=>{var Be=Object.create;var R=Object.defineProperty;var Ne=Object.getOwnPropertyDescriptor;var Ie=Object.getOwnPropertyNames;var Re=Object.getPrototypeOf,Le=Object.prototype.hasOwnProperty;var y=(e,t)=>()=>(e&&(t=e(e=0)),t);var L=(e,t)=>()=>(t||e((t={exports:{}}).exports,t),t.exports),D=(e,t)=>{for(var r in t)R(e,r,{get:t[r],enumerable:!0})},De=(e,t,r,a)=>{if(t&&typeof t=="object"||typeof t=="function")for(let n of Ie(t))!Le.call(e,n)&&n!==r&&R(e,n,{get:()=>t[n],enumerable:!(a=Ne(t,n))||a.enumerable});return e};var ae=(e,t,r)=>(r=e!=null?Be(Re(e)):{},De(t||!e||!e.__esModule?R(r,"default",{value:e,enumerable:!0}):r,e));function re(){return window.location.hostname==="ntgcentral.nt.gov.au"}function E(){return{isProduction:re(),liveApiUrl:"https://ntgcentral.nt.gov.au/services-and-support/ict-services-websites/artificial-intelligence/ai-knowledge-base/configuration/listing/articles/_nocache",fallbackJsonUrl:"./dist/search.json",workAreasUrl:re()?"https://ntgcentral.nt.gov.au/services-and-support/ict-services-websites/artificial-intelligence/ai-knowledge-base/configuration/listing/work-areas/_nocache":"./src/data/work-areas.json"}}function oe(){let e=E();return e.isProduction?e.liveApiUrl:e.fallbackJsonUrl}function se(){let e=E();return e.isProduction?e.fallbackJsonUrl:null}function ie(){return E().workAreasUrl}var ce,A=y(()=>{ce=new Set(["a","au","all","am","an","and","any","are","as","at","be","been","but","by","can","cant","co","com","de","do","eg","else","etc","for","from","get","go","had","has","hasnt","have","he","hence","her","here","hers","him","his","how","http","https","i","ie","if","in","is","it","its","la","me","my","nor","not","now","of","off","on","or","our","ours","pm","put","re","she","so","than","that","the","their","them","then","there","these","they","this","those","thus","to","too","uk","un","until","up","upon","us","very","via","was","we","well","were","what","when","where","which","while","who","why","www","you","your","yours"])});function We(e){let t=e.replace(/[^\w\s]/g," ").trim();return t?t.split(/\s+/).filter(n=>n.length>0).filter(n=>{let o=n.toLowerCase();return ce.has(o)?n===n.toUpperCase()&&n.length>=2:!0}).map(n=>n.toLowerCase()):[]}function Fe(e){return e?e.toLowerCase().replace(/[^\w\s]/g," "):""}function W(e,t){if(!e||!t)return{fullWordMatches:0,partialMatches:0};let r=Fe(e),a=new RegExp(`\\b${t}\\b`,"gi"),n=r.match(a),o=n?n.length:0,s=new RegExp(t,"gi"),c=r.match(s),i=c?c.length:0,l=Math.max(0,i-o);return{fullWordMatches:o,partialMatches:l}}function le(e){let t=[];return e.listMetadata&&(e.listMetadata["Work area"]&&t.push(...e.listMetadata["Work area"]),e.listMetadata.Roles&&t.push(...e.listMetadata.Roles),e.listMetadata.Benefits&&t.push(...e.listMetadata.Benefits)),t.join(" ")}function Pe(e,t){let r=e.title||"",a=e.summary||"",n=le(e),o=W(r,t),s=W(a,t),c=W(n,t),i=o.fullWordMatches*5+o.partialMatches*2,l=s.fullWordMatches*2+s.partialMatches*1,m=c.fullWordMatches*3+c.partialMatches*1.5,p=i+l+m;return{titleTF:o.fullWordMatches+o.partialMatches,titleFullWord:o.fullWordMatches,titlePartial:o.partialMatches,summaryTF:s.fullWordMatches+s.partialMatches,summaryFullWord:s.fullWordMatches,summaryPartial:s.partialMatches,metadataTF:c.fullWordMatches+c.partialMatches,metadataFullWord:c.fullWordMatches,metadataPartial:c.partialMatches,titleScore:i,summaryScore:l,metadataScore:m,totalScore:p,hasMatch:p>0}}function ze(e){let t=(e.title||"").length,r=(e.summary||"").length,a=le(e).length;return t+r+a}function de(e,t){if(!e||!t||t.length===0)return[];let r=We(e);if(r.length===0)return[];let n=t.map(o=>{let s=0,c=[],i={};r.forEach(p=>{let g=Pe(o,p);g.hasMatch&&(c.push(p),s+=g.totalScore,i[p]=g)});let l=ze(o),m=l>0?s/l*1e3:0;return{...o,_offlineScore:m,_rawScore:s,_matchedTerms:c,_termScores:i,_docLength:l}}).filter(o=>o._matchedTerms.length>0);return n.sort((o,s)=>s._offlineScore-o._offlineScore),n}function ue(){return window.aikbSearchCache&&Array.isArray(window.aikbSearchCache)?window.aikbSearchCache:null}var F=y(()=>{A()});var he={};D(he,{getCurrentPage:()=>He,getCurrentPageResults:()=>me,getTotalPages:()=>H,initializePagination:()=>$e,updatePagination:()=>je});function $e(e,t=10){$=e,x=t,z=e.length,u=1,Oe(),O()}function me(){let e=(u-1)*x,t=e+x;return $.slice(e,t)}function He(){return u}function H(){return Math.ceil(z/x)}function Oe(){if(h=document.getElementById("aikb-pagination"),!h){let e=document.getElementById("search-results-list");e&&e.parentNode&&(h=document.createElement("div"),h.id="aikb-pagination",h.className="aikb-pagination",e.parentNode.insertBefore(h,e.nextSibling))}}function O(){if(!h)return;let e=H();if(e<=1){h.innerHTML="",h.style.display="none";return}h.style.display="flex";let t=document.createElement("div");t.className="aikb-pagination__wrapper";let r=pe("Previous",u>1,()=>{u>1&&P(u-1)});t.appendChild(r);let a=Ue(e);t.appendChild(a);let n=pe("Next",u<e,()=>{u<e&&P(u+1)});t.appendChild(n),h.innerHTML="",h.appendChild(t)}function pe(e,t,r){let a=document.createElement("div");a.className="aikb-pagination__control",t||a.classList.add("aikb-pagination__control--disabled");let n=document.createElement("div");if(n.className="aikb-pagination__icon-label",e==="Previous"){let s=document.createElement("span");s.className="fal fa-chevron-left",s.setAttribute("aria-hidden","true"),n.appendChild(s)}let o=document.createElement("span");if(o.className="aikb-pagination__text",o.textContent=e,n.appendChild(o),e==="Next"){let s=document.createElement("span");s.className="fal fa-chevron-right",s.setAttribute("aria-hidden","true"),n.appendChild(s)}return a.appendChild(n),t&&(a.addEventListener("click",r),a.style.cursor="pointer"),a}function Ue(e){let t=document.createElement("div");return t.className="aikb-pagination__pages",qe(u,e).forEach(a=>{if(a==="..."){let n=document.createElement("span");n.className="aikb-pagination__ellipsis",n.textContent="...",t.appendChild(n)}else{let n=document.createElement("div");n.className="aikb-pagination__page-number",a===u&&n.classList.add("aikb-pagination__page-number--active");let o=document.createElement("span");o.textContent=a,n.appendChild(o),n.addEventListener("click",()=>P(a)),n.style.cursor="pointer",t.appendChild(n)}}),t}function qe(e,t){if(t<=7)return Array.from({length:t},(o,s)=>s+1);let r=[];r.push(1),e>3&&r.push("...");let a=Math.max(2,e-1),n=Math.min(t-1,e+1);for(let o=a;o<=n;o++)r.push(o);return e<t-2&&r.push("..."),r.push(t),r}function P(e){let t=H();if(e<1||e>t||e===u)return;u=e,O();let r=new CustomEvent("aikb-pagination-change",{detail:{page:u,results:me()}});document.dispatchEvent(r);let a=document.getElementById("search-results-list");if(a){let o=a.getBoundingClientRect().top+window.pageYOffset-100;window.scrollTo({top:o,behavior:"smooth"})}}function je(e){$=e,z=e.length,u=1,O()}var u,x,z,$,h,U=y(()=>{u=1,x=10,z=0,$=[],h=null});var ge={};D(ge,{renderResults:()=>M});function Je(e){if(!e)return"";if(/^[A-Z][a-z]+ \d{4}$/.test(e))return e;try{let r=new Date(e);if(!isNaN(r.getTime()))return`${["January","February","March","April","May","June","July","August","September","October","November","December"][r.getMonth()]} ${r.getFullYear()}`}catch{}return e}function q(e,t){if(!e||!t||t.length===0)return e;let r=e;return[...t].sort((n,o)=>o.length-n.length).forEach(n=>{let o=new RegExp(`(?!<mark[^>]*>)(${n})(?![^<]*</mark>)`,"gi");r=r.replace(o,"<mark>$1</mark>")}),r}function j(e,t){e.innerHTML="";let a=new DOMParser().parseFromString(t,"text/html");Array.from(a.body.childNodes).forEach(n=>{e.appendChild(n.cloneNode(!0))})}function J(e){if(!e.title||!e.summary||!e.liveUrl)return null;let t=document.createElement("div");t.className="aikb-search-card";let r=e._offlineScore||(e.rank?-e.rank:e.score||0);t.setAttribute("data-sort-relevance",r),t.setAttribute("data-sort-title",e.title);let a=e.dateTimestamp||0;t.setAttribute("data-sort-date",a);let n=document.createElement("div");n.className="aikb-search-card__inner";let o=document.createElement("div");o.className="aikb-search-card__content";let s=document.createElement("div");s.className="aikb-search-card__text";let c=document.createElement("h3");if(c.className="aikb-search-card__title",e._matchedTerms&&e._matchedTerms.length>0){let d=q(e.title,e._matchedTerms);j(c,d)}else c.textContent=e.title;s.appendChild(c);let i=document.createElement("p");if(i.className="aikb-search-card__summary",e._matchedTerms&&e._matchedTerms.length>0){let d=q(e.summary,e._matchedTerms);j(i,d)}else i.textContent=e.summary;s.appendChild(i),o.appendChild(s);let l=e.listMetadata&&e.listMetadata["Work area"]?e.listMetadata["Work area"]:[];if(l&&l.length>0){let d=document.createElement("div");d.className="aikb-search-card__tags",l.forEach(f=>{if(f&&f.trim()){let w=document.createElement("div");w.className="aikb-search-card__tag",w.textContent=f.trim(),d.appendChild(w)}}),d.children.length>0&&o.appendChild(d)}n.appendChild(o);let m=document.createElement("div");m.className="aikb-search-card__actions";let p=document.createElement("a");p.href=e.liveUrl,p.className="ntgc-btn ntgc-btn--secondary";let g=document.createElement("span");g.textContent="See more",p.appendChild(g);let b=document.createElement("span");b.className="fal fa-long-arrow-right",b.setAttribute("aria-hidden","true"),p.appendChild(b),m.appendChild(p);let k=document.createElement("div");k.className="aikb-search-card__metadata";let N=e.listMetadata&&e.listMetadata.Roles?e.listMetadata.Roles:[];if(N&&N.length>0){let d=document.createElement("div");d.className="aikb-search-card__useful-for";let f=document.createElement("span");f.className="aikb-search-card__useful-value";let w=document.createElement("strong");w.textContent="Good for: ",f.appendChild(w);let te=N.join(", ");if(e._matchedTerms&&e._matchedTerms.length>0){let I=q(te,e._matchedTerms),ne=document.createElement("span");j(ne,I),Array.from(ne.childNodes).forEach(Te=>{f.appendChild(Te)})}else{let I=document.createTextNode(te);f.appendChild(I)}d.appendChild(f),k.appendChild(d)}if(e.date){let d=document.createElement("div");d.className="aikb-search-card__date",d.textContent=`Last updated: ${Je(e.date)}`,k.appendChild(d)}return m.appendChild(k),n.appendChild(m),t.appendChild(n),t}function M(e,t="search-results-list",r=!0){let a=document.getElementById(t);if(!a){let n=window.$?window.$(`#${t}`):null;a=n&&n.length>0?n[0]:null}if(a){if(a.innerHTML="",e.length===0){let n=document.createElement("p");n.textContent="No results found.",n.style.padding="24px 48px",a.appendChild(n);return}r?Promise.resolve().then(()=>(U(),he)).then(({initializePagination:n,getCurrentPageResults:o})=>{n(e,10),o().map(i=>J(i)).filter(i=>i!==null).forEach(i=>a.appendChild(i))}):e.map(o=>J(o)).filter(o=>o!==null).forEach(o=>a.appendChild(o))}}var fe,C=y(()=>{window.aikbRenderResults=M;fe=!1;fe||(document.addEventListener("aikb-pagination-change",e=>{let{results:t}=e.detail,r=document.getElementById("search-results-list");r&&t&&(r.innerHTML="",t.map(n=>J(n)).filter(n=>n!==null).forEach(n=>r.appendChild(n)))}),fe=!0)});function Qe(e){let t=new Set;return e.forEach(r=>{if(r.listMetadata&&r.listMetadata["Work area"]){let a=r.listMetadata["Work area"];Array.isArray(a)&&a.forEach(n=>{let o=n.trim();o&&t.add(o)})}}),Array.from(t).sort((r,a)=>r.localeCompare(a))}function ye(e){Q=e}function Ze(e){let t=document.getElementById("document_type");if(!t)return;t.innerHTML="";let r=document.createElement("option");r.value="All work areas",r.textContent="All work areas",r.selected=!0,t.appendChild(r),e.forEach(a=>{if(a==="All work areas")return;let n=document.createElement("option");n.value=a,n.textContent=a,t.appendChild(n)})}function Ge(){let e=document.getElementById("select-question-3");if(!e)return;let t=document.getElementById("owner");if(t)t.innerHTML="";else{let a=e.querySelector("label");if(e.innerHTML="",a)e.appendChild(a);else{let s=document.createElement("label");s.className="ntgc-form-input--label",s.setAttribute("for","select-input-2"),s.textContent="Sort",e.appendChild(s)}let n=document.createElement("div");n.className="aikb-dropdown-wrapper";let o=document.createElement("div");o.className="aikb-dropdown-inner",t=document.createElement("select"),t.name="sort",t.className="ntgc-select ntgc-select--block ntgc-select-input--filter",t.id="owner",o.appendChild(t),n.appendChild(o),e.appendChild(n)}[{value:"relevance",label:"Relevance",selected:!0},{value:"date-newest",label:"Date (newest first)"},{value:"date-oldest",label:"Date (oldest first)"},{value:"title-az",label:"Title (A-Z)"},{value:"title-za",label:"Title (Z-A)"}].forEach(a=>{let n=document.createElement("option");n.value=a.value,n.textContent=a.label,a.selected&&(n.selected=!0),t.appendChild(n)})}function Ke(){let e=document.getElementById("document_type");if(e&&!e.parentElement.querySelector(".aikb-dropdown-icon")){let r=document.createElement("div");r.className="aikb-dropdown-icon",r.setAttribute("data-colour","NTG Blue");let a=e.closest(".aikb-dropdown-wrapper");if(a){let n=a.querySelector(".aikb-dropdown-inner");n&&n.appendChild(r)}}let t=document.getElementById("owner");if(t&&!t.parentElement.querySelector(".aikb-dropdown-icon")){let r=document.createElement("div");r.className="aikb-dropdown-icon",r.setAttribute("data-colour","NTG Blue");let a=t.closest(".aikb-dropdown-wrapper");if(a){let n=a.querySelector(".aikb-dropdown-inner");n&&n.appendChild(r)}}}function we(e,t=null){let r;t&&t.length>0?r=t:Q.length>0?r=Q:r=Qe(e),Ze(r),Ge(),Ke()}var Q,Z=y(()=>{Q=[]});function G(e){let t=document.getElementById("appliedFiltersSection"),r=document.getElementById("appliedFilters"),a=document.getElementById("clearAllBtn");if(!t||!r)return;r.innerHTML="";let n=!1;if(e.searchQuery&&e.searchQuery.trim()){n=!0;let o=be("Search",e.searchQuery,"bg-success","search");r.appendChild(o)}if(e.workArea&&e.workArea!=="All work areas"&&e.workArea.trim()){n=!0;let o=be("Work area",e.workArea,"bg-primary","work-area");r.appendChild(o)}a&&(a.style.display=n?"inline-flex":"none",a.style.marginLeft="8px",a.style.verticalAlign="middle",a.style.alignItems="center",r.appendChild(a)),t.style.display=n?"block":"none"}function be(e,t,r,a,n){let o=document.createElement("span");o.className=`badge ${r} filter-pill d-inline-flex align-items-center`;let s=document.createElement("span");s.className="pill-label",s.textContent=`${e}:`;let c=document.createElement("span");c.className="pill-value",c.textContent=t;let i=document.createElement("button");i.type="button",i.className="pill-remove",i.title=`Remove ${e}: ${t}`,i.setAttribute("data-filter-type",a),n&&i.setAttribute("data-filter-value",n);let l=document.createElement("span");return l.className="fas fa-times",i.appendChild(l),i.addEventListener("click",m=>{m.preventDefault(),Ye(a,n)}),o.appendChild(s),o.appendChild(c),o.appendChild(i),o}async function Ye(e,t){switch(e){case"search":let r=document.getElementById("search");if(r){r.value="";let n=K();G(n);let{loadInitialResults:o}=await Promise.resolve().then(()=>(v(),X));o()}break;case"work-area":let a=document.getElementById("document_type");if(a){a.value="All work areas";let n=new Event("change",{bubbles:!0});a.dispatchEvent(n)}break}}async function Xe(){let e=document.getElementById("search");e&&(e.value="");let t=document.getElementById("document_type");t&&(t.value="All work areas");let r=document.getElementById("appliedFiltersSection");r&&(r.style.display="none");let{loadInitialResults:a}=await Promise.resolve().then(()=>(v(),X));a()}function ke(){let e=document.getElementById("clearAllBtn");e&&e.addEventListener("click",t=>{t.preventDefault(),Xe()})}function K(){let e=document.getElementById("search"),t=document.getElementById("document_type"),r=document.getElementById("sort")||document.getElementById("owner");return{searchQuery:e?e.value:"",workArea:t?t.value:"All work areas",sort:r?r.value:"relevance"}}var Y=y(()=>{});function S(e){let t=new Set,r=[];e.forEach((a,n)=>{let o=a.liveUrl||a.url||a.title||JSON.stringify(a)+n;t.has(o)||(t.add(o),r.push(a))}),ee=r}function Ve(e){return!e||e==="All work areas"?ee:ee.filter(r=>{if(!r.listMetadata||!r.listMetadata["Work area"])return!1;let a=r.listMetadata["Work area"];return Array.isArray(a)?a.includes(e):!1})}function et(e,t){let r=[...e];switch(t){case"relevance":r.sort((a,n)=>a.rank&&n.rank?a.rank-n.rank:a.score&&n.score?n.score-a.score:0);break;case"date-newest":r.sort((a,n)=>{let o=a.dateTimestamp||0;return(n.dateTimestamp||0)-o});break;case"date-oldest":r.sort((a,n)=>{let o=a.dateTimestamp||0,s=n.dateTimestamp||0;return o-s});break;case"title-az":r.sort((a,n)=>{let o=a.title||"",s=n.title||"";return o.localeCompare(s)});break;case"title-za":r.sort((a,n)=>{let o=a.title||"";return(n.title||"").localeCompare(o)});break;default:break}return r}function tt(e){let t=document.getElementById("search-results-list");if(!t)return;let r=Array.from(t.querySelectorAll(".aikb-search-card"));r.sort((a,n)=>{switch(e){case"relevance":let o=parseFloat(a.getAttribute("data-sort-relevance"))||0;return(parseFloat(n.getAttribute("data-sort-relevance"))||0)-o;case"date-newest":let c=parseFloat(a.getAttribute("data-sort-date"))||0;return(parseFloat(n.getAttribute("data-sort-date"))||0)-c;case"date-oldest":let l=parseFloat(a.getAttribute("data-sort-date"))||0,m=parseFloat(n.getAttribute("data-sort-date"))||0;return l-m;case"title-az":let p=a.getAttribute("data-sort-title")||"",g=n.getAttribute("data-sort-title")||"";return p.localeCompare(g);case"title-za":let b=a.getAttribute("data-sort-title")||"";return(n.getAttribute("data-sort-title")||"").localeCompare(b);default:return 0}}),r.forEach(a=>t.appendChild(a))}async function _(){if(!V){V=!0;try{let e=document.getElementById("document_type"),t=document.getElementById("sort")||document.getElementById("owner");if(!e||!t)return;let r=e.value||"All work areas",a=t.value||"relevance",n=Ve(r),o=et(n,a),{renderResults:s}=await Promise.resolve().then(()=>(C(),ge));s(o,"search-results-list"),tt(a);let c=K();G(c)}finally{V=!1}}}function Ce(){if(Ee)return;let e=document.getElementById("document_type"),t=document.getElementById("sort")||document.getElementById("owner");e&&e.addEventListener("change",function(){_()}),t&&t.addEventListener("change",function(){_()}),Ee=!0}var ee,V,Ee,T=y(()=>{Y();ee=[];V=!1;Ee=!1});var X={};D(X,{loadInitialResults:()=>B});async function nt(){let e=ie();try{let t=await fetch(e);if(!t.ok)throw new Error(`HTTP error! status: ${t.status}`);let r=await t.json();return Array.isArray(r)?r:[]}catch{return null}}function B(){if(!document.getElementById("search-results-list"))return;let t=E(),r=oe(),a=se();nt().then(n=>{n&&(xe=n,ye(n))}),fetch(r).then(n=>{if(!n.ok)throw new Error(`HTTP error! status: ${n.status}`);return n.json()}).then(n=>{Ae(n,t.isProduction?"live-api":"local")}).catch(n=>{a?fetch(a).then(o=>{if(!o.ok)throw new Error(`HTTP error! status: ${o.status}`);return o.json()}).then(o=>{Ae(o,"fallback")}).catch(o=>{ve()}):ve()})}function ve(){let e=document.getElementById("search-results-list");e&&(e.innerHTML='<p class="aikb-error">Unable to load search results. Please check your connection and try again later.</p>')}function Ae(e,t="unknown"){let a=(Array.isArray(e)?e:[]).map(s=>{let c=s["last-updated"]?new Date(s["last-updated"]).getTime():0;return{title:s.title||"",summary:s.description||s.summary||"",listMetadata:{"Work area":s["work-area"]||[],Roles:s.roles||[],Benefits:s.benefits||[]},date:s["last-updated"]?new Date(s["last-updated"]).toLocaleDateString("en-AU",{year:"numeric",month:"long"}):"",dateTimestamp:c,liveUrl:s.url||s.liveUrl||"",submittedBy:s["submitted-by"]||"",rank:s.rank||0,score:s.score||0}}),n=new Set,o=[];a.forEach((s,c)=>{let i=s.liveUrl||s.url||s.title||JSON.stringify(s)+c;n.has(i)||(n.add(i),o.push(s))}),S(o),window.aikbSearchCache=o,we(o,xe),Ce(),M(o,"search-results-list")}var xe,v=y(()=>{C();Z();T();A();xe=null;window.addEventListener("load",function(){setTimeout(B,200)})});var Me=L(()=>{F();v();C();T();window.addEventListener("DOMContentLoaded",function(){let e=document.getElementById("search");e&&e.addEventListener("keydown",function(t){if(t.key==="Enter"){t.preventDefault();let r=e.value.trim();if(r==="")B();else{let a=ue();if(a&&a.length>0){let n=de(r,a);S(n),_()}else{let n=window.$("#search-results-list");n&&n.length>0&&n.html('<p class="aikb-error">Unable to load search results. Please check your connection and try again.</p>')}}}})})});var Se=L(()=>{var at='div[data-hydration-component="squiz-call-to-action"] a';function _e(e=document){e.querySelectorAll(at).forEach(r=>{r.classList.add("ntgc-btn","ntgc-btn--primary")})}document.readyState==="loading"?document.addEventListener("DOMContentLoaded",()=>_e()):_e()});var rt=L(()=>{A();var _t=ae(Me());T();C();Z();F();v();var Rt=ae(Se());U();Y();window.addEventListener("load",function(){ke()})});rt();})();
//# sourceMappingURL=landing-page.min.js.map
