(()=>{var ne=Object.create;var P=Object.defineProperty;var le=Object.getOwnPropertyDescriptor;var oe=Object.getOwnPropertyNames;var ae=Object.getPrototypeOf,se=Object.prototype.hasOwnProperty;var p=(t,e)=>()=>(t&&(e=t(t=0)),e);var R=(t,e)=>()=>(e||t((e={exports:{}}).exports,e),e.exports),V=(t,e)=>{for(var l in e)P(t,l,{get:e[l],enumerable:!0})},ie=(t,e,l,o)=>{if(e&&typeof e=="object"||typeof e=="function")for(let n of oe(e))!se.call(t,n)&&n!==l&&P(t,n,{get:()=>e[n],enumerable:!(o=le(e,n))||o.enumerable});return t};var q=(t,e,l)=>(l=t!=null?ne(ae(t)):{},ie(e||!t||!t.__esModule?P(l,"default",{value:t,enumerable:!0}):l,t));function ce(){return window.location.hostname==="ntgcentral.nt.gov.au"}function E(){return{isProduction:ce(),liveApiUrl:"https://ntgcentral.nt.gov.au/ai-knowledge-base/configuration/listing/articles/_nocache",fallbackJsonUrl:"./dist/search.json"}}function j(){let t=E();return t.isProduction?t.liveApiUrl:t.fallbackJsonUrl}function U(){let t=E();return t.isProduction?t.fallbackJsonUrl:null}var O=p(()=>{});var H={};V(H,{renderResults:()=>y});function re(t){if(!t)return"";if(/^[A-Z][a-z]+ \d{4}$/.test(t))return t;try{let l=new Date(t);if(!isNaN(l.getTime()))return`${["January","February","March","April","May","June","July","August","September","October","November","December"][l.getMonth()]} ${l.getFullYear()}`}catch{}return t}function de(t){if(!t.title||!t.summary||!t.liveUrl)return console.warn("Skipping card with missing required fields:",t),null;let e=document.createElement("div");e.className="aikb-search-card";let l=document.createElement("div");l.className="aikb-search-card__inner";let o=document.createElement("div");o.className="aikb-search-card__content";let n=document.createElement("div");n.className="aikb-search-card__text";let a=document.createElement("h3");a.className="aikb-search-card__title",a.textContent=t.title,n.appendChild(a);let s=document.createElement("p");s.className="aikb-search-card__summary",s.textContent=t.summary,n.appendChild(s),o.appendChild(n);let i=t.listMetadata&&t.listMetadata["Work area"]?t.listMetadata["Work area"]:[];if(i&&i.length>0){let u=document.createElement("div");u.className="aikb-search-card__tags",i.forEach(h=>{if(h&&h.trim()){let f=document.createElement("div");f.className="aikb-search-card__tag",f.textContent=h.trim(),u.appendChild(f)}}),u.children.length>0&&o.appendChild(u)}l.appendChild(o);let c=document.createElement("div");c.className="aikb-search-card__actions";let r=document.createElement("a");r.href=t.liveUrl,r.className="ntgc-btn ntgc-btn--secondary";let m=document.createElement("span");m.textContent="See more",r.appendChild(m);let g=document.createElement("span");g.className="fal fa-long-arrow-right",g.setAttribute("aria-hidden","true"),r.appendChild(g),c.appendChild(r);let d=document.createElement("div");d.className="aikb-search-card__metadata";let L=t.listMetadata&&t.listMetadata.Roles?t.listMetadata.Roles:[];if(L&&L.length>0){let u=document.createElement("div");u.className="aikb-search-card__useful-for";let h=document.createElement("span");h.className="aikb-search-card__useful-label",h.textContent="Useful for: ",u.appendChild(h);let f=document.createElement("span");f.className="aikb-search-card__useful-value",f.textContent=L.join(", "),u.appendChild(f),d.appendChild(u)}if(t.date){let u=document.createElement("div");u.className="aikb-search-card__date",u.textContent=`Last updated: ${re(t.date)}`,d.appendChild(u)}return c.appendChild(d),l.appendChild(c),e.appendChild(l),e}function y(t,e="search-results-list"){console.log(`renderResults called with ${t.length} results for container #${e}`);let l=document.getElementById(e);if(console.log(`document.getElementById("${e}"):`,l),!l){let n=window.$?window.$(`#${e}`):null;console.log(`jQuery selector $("#${e}"):`,n),l=n&&n.length>0?n[0]:null}if(!l){console.error(`Container #${e} not found`),console.log("Available elements with id:",Array.from(document.querySelectorAll("[id]")).map(n=>n.id));return}l.innerHTML="";let o=t.map(n=>de(n)).filter(n=>n!==null);if(o.length===0){let n=document.createElement("p");n.textContent="No results found.",n.style.padding="24px 48px",l.appendChild(n);return}o.forEach(n=>l.appendChild(n)),console.log(`Rendered ${o.length} search result cards`)}var b=p(()=>{window.aikbRenderResults=y});function J(t){let e=typeof t=="string"?document.querySelector(t):t;return e?new T(e):(console.warn("Multi-select element not found:",t),null)}var T,M=p(()=>{T=class{constructor(e){this.selectElement=e,this.options=[],this.selectedValues=new Set,this.tempSelectedValues=new Set,this.isOpen=!1,this.container=null,this.displayButton=null,this.dropdownPanel=null,this.init()}init(){this.selectElement.style.display="none",this.createDropdownStructure(),this.selectAllByDefault(),this.bindEvents(),this.container.__multiSelectInstance=this}selectAllByDefault(){this.options.forEach(e=>{this.selectedValues.add(e.value)}),this.syncNativeSelect(),this.updateDisplayText(),this.tempSelectedValues=new Set(this.selectedValues)}createDropdownStructure(){this.container=document.createElement("div"),this.container.className="aikb-multiselect-container",this.displayButton=document.createElement("button"),this.displayButton.type="button",this.displayButton.className="aikb-multiselect-button",this.displayButton.innerHTML=`
      <span class="aikb-multiselect-text">Select Options</span>
      <span class="aikb-multiselect-icon"></span>
    `,this.dropdownPanel=document.createElement("div"),this.dropdownPanel.className="aikb-multiselect-panel",this.dropdownPanel.style.display="none";let e=document.createElement("div");e.className="aikb-multiselect-options";let l=this.createOptionItem({value:"_select_all",label:"Select All",isSelectAll:!0});e.appendChild(l),Array.from(this.selectElement.options).forEach(s=>{if(!s.disabled&&s.value){this.options.push({value:s.value,label:s.textContent});let i=this.createOptionItem({value:s.value,label:s.textContent});e.appendChild(i)}});let o=document.createElement("div");o.className="aikb-multiselect-actions";let n=document.createElement("button");n.type="button",n.className="aikb-multiselect-btn aikb-multiselect-btn-ok",n.textContent="OK",n.addEventListener("click",()=>this.handleOk());let a=document.createElement("button");a.type="button",a.className="aikb-multiselect-btn aikb-multiselect-btn-cancel",a.textContent="Cancel",a.addEventListener("click",()=>this.handleCancel()),o.appendChild(n),o.appendChild(a),this.dropdownPanel.appendChild(e),this.dropdownPanel.appendChild(o),this.container.appendChild(this.displayButton),this.container.appendChild(this.dropdownPanel),this.selectElement.parentNode.insertBefore(this.container,this.selectElement.nextSibling)}createOptionItem(e){let l=document.createElement("label");l.className="aikb-multiselect-option",e.isSelectAll&&l.classList.add("aikb-multiselect-option-all");let o=document.createElement("input");o.type="checkbox",o.className="aikb-multiselect-checkbox",o.value=e.value,o.dataset.label=e.label,e.isSelectAll?o.addEventListener("change",a=>this.handleSelectAll(a)):o.addEventListener("change",()=>this.updateSelectAllState());let n=document.createElement("span");return n.className="aikb-multiselect-label",n.textContent=e.label,l.appendChild(o),l.appendChild(n),l}bindEvents(){this.displayButton.addEventListener("click",e=>{e.stopPropagation(),this.toggle()}),document.addEventListener("click",e=>{!this.container.contains(e.target)&&this.isOpen&&this.handleCancel()})}toggle(){this.isOpen?this.close():this.open()}open(){this.isOpen=!0,this.dropdownPanel.style.display="block",this.displayButton.classList.add("aikb-multiselect-open"),this.tempSelectedValues=new Set(this.selectedValues),this.updateCheckboxes()}close(){this.isOpen=!1,this.dropdownPanel.style.display="none",this.displayButton.classList.remove("aikb-multiselect-open")}handleOk(){let e=this.dropdownPanel.querySelectorAll('.aikb-multiselect-checkbox:not([value="_select_all"])');this.selectedValues.clear(),e.forEach(l=>{l.checked&&this.selectedValues.add(l.value)}),this.syncNativeSelect(),this.updateDisplayText(),this.triggerChange(),this.close()}handleCancel(){this.tempSelectedValues=new Set(this.selectedValues),this.updateCheckboxes(),this.close()}handleSelectAll(e){let l=e.target.checked;this.dropdownPanel.querySelectorAll('.aikb-multiselect-checkbox:not([value="_select_all"])').forEach(n=>{n.checked=l})}updateSelectAllState(){let e=this.dropdownPanel.querySelector('.aikb-multiselect-checkbox[value="_select_all"]'),l=this.dropdownPanel.querySelectorAll('.aikb-multiselect-checkbox:not([value="_select_all"])'),o=Array.from(l).filter(n=>n.checked).length;e&&(e.checked=o===l.length,e.indeterminate=o>0&&o<l.length)}updateCheckboxes(){this.dropdownPanel.querySelectorAll('.aikb-multiselect-checkbox:not([value="_select_all"])').forEach(l=>{l.checked=this.tempSelectedValues.has(l.value)}),this.updateSelectAllState()}updateDisplayText(){let e=this.displayButton.querySelector(".aikb-multiselect-text");if(this.selectedValues.size===0)e.textContent="Select Options",e.classList.remove("aikb-multiselect-has-selection");else if(this.selectedValues.size===this.options.length)e.textContent="All selected",e.classList.add("aikb-multiselect-has-selection");else{let l=Array.from(this.selectedValues).map(o=>{let n=this.options.find(a=>a.value===o);return n?n.label:o});this.selectedValues.size<=2?e.textContent=l.join(", "):e.textContent=`${this.selectedValues.size} selected`,e.classList.add("aikb-multiselect-has-selection")}}triggerChange(){let e=new CustomEvent("multiselect-change",{detail:{values:Array.from(this.selectedValues)}});if(this.container.dispatchEvent(e),this.selectElement){let l=new Event("change",{bubbles:!0});this.selectElement.dispatchEvent(l)}console.log("Multi-select changed:",Array.from(this.selectedValues))}syncNativeSelect(){this.selectElement&&(Array.from(this.selectElement.options).forEach(e=>{e.selected=!1}),Array.from(this.selectElement.options).forEach(e=>{this.selectedValues.has(e.value)&&(e.selected=!0)}))}getSelectedValues(){return Array.from(this.selectedValues)}reset(){this.selectedValues.clear(),this.tempSelectedValues.clear(),this.updateDisplayText(),this.updateCheckboxes()}destroy(){this.container&&this.container.parentNode&&this.container.parentNode.removeChild(this.container),this.selectElement&&(this.selectElement.style.display=""),this.container=null,this.displayButton=null,this.dropdownPanel=null,console.log("Multi-select instance destroyed")}}});function ue(t){let e=new Set;return t.forEach(l=>{if(l.listMetadata&&l.listMetadata["Work area"]){let o=l.listMetadata["Work area"];Array.isArray(o)&&o.forEach(n=>{let a=n.trim();a&&e.add(a)})}}),Array.from(e).sort((l,o)=>l==="All work areas"?-1:o==="All work areas"?1:l.localeCompare(o))}function me(t){let e=document.getElementById("document_type");if(!e){console.warn("Work area dropdown #document_type not found");return}e.innerHTML="";let l=document.createElement("option");l.value="",l.textContent="Select a work area",l.disabled=!0,l.selected=!0,e.appendChild(l),t.forEach(o=>{let n=document.createElement("option");n.value=o,n.textContent=o,e.appendChild(n)}),console.log(`Populated work area dropdown with ${t.length} options`),v&&(v.destroy(),v=null),(!e.nextElementSibling||!e.nextElementSibling.classList.contains("aikb-multiselect-container"))&&(v=J(e))}function pe(){let t=document.getElementById("select-question-3");if(!t){console.warn("Sort dropdown container #select-question-3 not found");return}let e=document.getElementById("owner");if(e)e.innerHTML="";else{let o=t.querySelector("label");if(t.innerHTML="",o)t.appendChild(o);else{let s=document.createElement("label");s.className="ntgc-form-input--label",s.setAttribute("for","select-input-2"),s.textContent="Sort",t.appendChild(s)}let n=document.createElement("div");n.className="aikb-dropdown-wrapper";let a=document.createElement("div");a.className="aikb-dropdown-inner",e=document.createElement("select"),e.name="sort",e.className="ntgc-select ntgc-select--block ntgc-select-input--filter",e.id="owner",a.appendChild(e),n.appendChild(a),t.appendChild(n)}let l=[{value:"relevance",label:"Relevance",selected:!0},{value:"date-newest",label:"Date (newest first)"},{value:"date-oldest",label:"Date (oldest first)"},{value:"title-az",label:"Title (A-Z)"},{value:"title-za",label:"Title (Z-A)"}];l.forEach(o=>{let n=document.createElement("option");n.value=o.value,n.textContent=o.label,o.selected&&(n.selected=!0),e.appendChild(n)}),console.log(`Populated sort dropdown with ${l.length} options`)}function he(){let t=document.getElementById("document_type");if(t&&!t.parentElement.querySelector(".aikb-dropdown-icon")){let l=document.createElement("div");l.className="aikb-dropdown-icon",l.setAttribute("data-colour","NTG Blue");let o=t.closest(".aikb-dropdown-wrapper");if(o){let n=o.querySelector(".aikb-dropdown-inner");n&&n.appendChild(l)}}let e=document.getElementById("owner");if(e&&!e.parentElement.querySelector(".aikb-dropdown-icon")){let l=document.createElement("div");l.className="aikb-dropdown-icon",l.setAttribute("data-colour","NTG Blue");let o=e.closest(".aikb-dropdown-wrapper");if(o){let n=o.querySelector(".aikb-dropdown-inner");n&&n.appendChild(l)}}}function C(t){console.log("Initializing dropdowns with search data...");let e=ue(t);me(e),pe(),he(),console.log("Dropdowns initialized successfully")}var v,S=p(()=>{M();v=null});function A(t){let e=document.getElementById("appliedFiltersSection"),l=document.getElementById("appliedFilters");if(!e||!l){console.warn("Applied filters section not found");return}l.innerHTML="";let o=!1;if(t.searchQuery&&t.searchQuery.trim()){o=!0;let n=F("Search",t.searchQuery,"bg-success","search");l.appendChild(n)}if(t.workAreas&&t.workAreas.length>0&&(fe(t.workAreas)||(o=!0,t.workAreas.forEach(a=>{let s=F("Work area",a,"bg-primary","work-area",a);l.appendChild(s)}))),t.sort&&t.sort!=="relevance"){o=!0;let n=ge(t.sort),a=F("Sort",n,"bg-info","sort");l.appendChild(a)}e.style.display=o?"block":"none"}function fe(t){let e=document.getElementById("document_type");if(!e)return!1;let l=Array.from(e.options).filter(o=>!o.disabled&&o.value).length;return t.length===l}function ge(t){return{relevance:"Relevance","date-newest":"Date (newest first)","date-oldest":"Date (oldest first)","title-az":"Title (A-Z)","title-za":"Title (Z-A)"}[t]||t}function F(t,e,l,o,n){let a=document.createElement("span");a.className=`badge ${l} filter-pill d-inline-flex align-items-center`;let s=document.createElement("span");s.className="pill-label",s.textContent=`${t}:`;let i=document.createElement("span");i.className="pill-value",i.textContent=e;let c=document.createElement("button");c.type="button",c.className="pill-remove",c.title=`Remove ${t}: ${e}`,c.setAttribute("data-filter-type",o),n&&c.setAttribute("data-filter-value",n);let r=document.createElement("span");return r.className="fas fa-times",c.appendChild(r),c.addEventListener("click",m=>{m.preventDefault(),ye(o,n)}),a.appendChild(s),a.appendChild(i),a.appendChild(c),a}async function ye(t,e){switch(console.log(`Removing filter: ${t}`,e),t){case"search":let l=document.getElementById("search");if(l){l.value="";let{loadInitialResults:a}=await Promise.resolve().then(()=>(w(),z));a()}break;case"work-area":let o=document.getElementById("document_type");if(o&&e){let a=Array.from(o.options).find(c=>c.value===e);a&&(a.selected=!1);let s=new Event("change",{bubbles:!0});o.dispatchEvent(s);let i=o.nextElementSibling;if(i&&i.classList.contains("aikb-multiselect-container")){let c=i.__multiSelectInstance;c&&(c.selectedValues.delete(e),c.syncNativeSelect(),c.updateDisplayText(),c.triggerChange())}}break;case"sort":let n=document.getElementById("sort")||document.getElementById("owner");if(n){n.value="relevance";let a=new Event("change",{bubbles:!0});n.dispatchEvent(a)}break}}async function be(){console.log("Clearing all filters");let t=document.getElementById("search");t&&(t.value="");let e=document.getElementById("document_type");if(e){Array.from(e.options).forEach(a=>{!a.disabled&&a.value&&(a.selected=!0)});let n=e.nextElementSibling;if(n&&n.classList.contains("aikb-multiselect-container")){let a=n.__multiSelectInstance;a&&typeof a.selectAllByDefault=="function"&&(a.selectAllByDefault(),a.triggerChange())}}let l=document.getElementById("sort")||document.getElementById("owner");l&&(l.value="relevance");let{loadInitialResults:o}=await Promise.resolve().then(()=>(w(),z));o()}function Q(){let t=document.getElementById("clearAllBtn");t&&t.addEventListener("click",e=>{e.preventDefault(),be()})}function x(){let t=document.getElementById("search"),e=document.getElementById("document_type"),l=document.getElementById("sort")||document.getElementById("owner"),o={searchQuery:t?t.value:"",workAreas:[],sort:l?l.value:"relevance"};if(e){let n=Array.from(e.selectedOptions||[]);o.workAreas=n.map(a=>a.value).filter(a=>a&&a.trim().length>0)}return o}var B=p(()=>{});function D(t){$=t,console.log(`Stored ${$.length} results for filtering/sorting`)}function we(t){return!t||t.length===0?$:$.filter(e=>{if(!e.listMetadata||!e.listMetadata["Work area"])return!1;let l=e.listMetadata["Work area"];return l.includes("All work areas")?!0:t.some(o=>l.includes(o))})}function ke(t,e){let l=[...t];switch(e){case"relevance":l.sort((o,n)=>o.rank&&n.rank?o.rank-n.rank:o.score&&n.score?n.score-o.score:0);break;case"date-newest":l.sort((o,n)=>{let a=o.date?new Date(o.date).getTime():0;return(n.date?new Date(n.date).getTime():0)-a});break;case"date-oldest":l.sort((o,n)=>{let a=o.date?new Date(o.date).getTime():0,s=n.date?new Date(n.date).getTime():0;return a-s});break;case"title-az":l.sort((o,n)=>{let a=o.title||"",s=n.title||"";return a.localeCompare(s)});break;case"title-za":l.sort((o,n)=>{let a=o.title||"";return(n.title||"").localeCompare(a)});break;default:break}return l}async function _(){let t=document.getElementById("document_type"),e=document.getElementById("sort")||document.getElementById("owner");if(!t||!e){console.warn("Required dropdowns not found (document_type or sort)");return}let l=[];t&&(l=Array.from(t.selectedOptions||[]).map(r=>r.value).filter(r=>r&&r.trim().length>0));let o=e.value||"relevance";console.log(`Applying filters - Work Areas: [${l.join(", ")}], Sort: "${o}"`);let n=we(l);console.log(`After filtering: ${n.length} results`);let a=ke(n,o);console.log(`After sorting: ${a.length} results`);let{renderResults:s}=await Promise.resolve().then(()=>(b(),H));s(a,"search-results-list");let i=x();A(i)}function N(){let t=document.getElementById("document_type"),e=document.getElementById("sort")||document.getElementById("owner");if(t){t.addEventListener("change",function(){console.log("Work area filter changed"),_()});let l=t.nextElementSibling;l&&l.classList.contains("aikb-multiselect-container")&&l.addEventListener("multiselect-change",()=>{console.log("Work area filter applied via custom multi-select"),_()}),typeof window.$<"u"&&window.$(t).on("sumo:closed",function(){console.log("Work area filter applied via SumoSelect OK"),_()})}e&&e.addEventListener("change",function(){console.log(`Sort changed to: ${this.value}`),_()}),console.log("Filter and sort listeners initialized")}var $,I=p(()=>{B();$=[]});var z={};V(z,{loadInitialResults:()=>k});function k(){if(!document.getElementById("search-results-list")){console.warn("search-results-list container not found on page");return}let e=E(),l=j(),o=U();console.log(`Loading initial results from ${e.isProduction?"live API":"local JSON"}...`),fetch(l).then(n=>{if(console.log(`Primary source (${l}) response status:`,n.status,n.ok),!n.ok)throw new Error(`HTTP error! status: ${n.status}`);return n.json()}).then(n=>{console.log(`Primary source data loaded successfully (${e.isProduction?"live API":"local JSON"}):`,n),K(n,e.isProduction?"live-api":"local")}).catch(n=>{console.error(`Error loading from primary source (${l}):`,n),o?(console.log("Attempting fallback to local JSON..."),fetch(o).then(a=>{if(console.log("Fallback JSON response status:",a.status,a.ok),!a.ok)throw new Error(`HTTP error! status: ${a.status}`);return a.json()}).then(a=>{console.log("Fallback JSON data loaded successfully:",a),K(a,"fallback")}).catch(a=>{console.error("Error loading fallback search.json:",a),Z()})):Z()})}function Z(){let t=document.getElementById("search-results-list");t&&(t.innerHTML='<p class="aikb-error">Unable to load search results. Please check your connection and try again later.</p>')}function K(t,e="unknown"){let o=(Array.isArray(t)?t:[]).map(n=>({title:n.title||"",summary:n.description||n.summary||"",listMetadata:{"Work area":n["work-area"]||[],Roles:n.roles||[],Benefits:n.benefits||[]},date:n["last-updated"]?new Date(n["last-updated"]).toLocaleDateString("en-AU",{year:"numeric",month:"long"}):"",liveUrl:n.url||n.liveUrl||"",submittedBy:n["submitted-by"]||""}));console.log(`Rendering ${o.length} cards from ${e}`),D(o),window.aikbSearchCache=o,console.log(`Cached ${o.length} results for offline search`),C(o),N(),y(o,"search-results-list")}var w=p(()=>{b();S();I();O();window.addEventListener("load",function(){console.log("Page load event fired, loading initial results..."),setTimeout(k,200)})});function G(t,e){if(!t||!e||e.length===0)return console.log("Offline search: No keywords or no cached results available"),[];let l=t.toLowerCase().replace(/[^\w\s]/g,"").trim();if(!l)return console.log("Offline search: Keywords empty after normalization"),[];console.log(`Offline search: Searching for "${t}" in ${e.length} cached results`);let o=new RegExp(l,"gi"),a=e.map(s=>{let i=0,c=0,r=0,m=0;if(s.title){let d=s.title.toLowerCase().replace(/[^\w\s]/g,"").match(o);d&&(c=d.length,i+=c*3)}if(s.summary){let d=s.summary.toLowerCase().replace(/[^\w\s]/g,"").match(o);d&&(r=d.length,i+=r*1)}if(s.metadata){let d=s.metadata.toLowerCase().replace(/[^\w\s]/g,"").match(o);d&&(m=d.length,i+=m*2)}return{...s,_offlineScore:i,_offlineMatches:{title:c,summary:r,metadata:m}}}).filter(s=>s._offlineScore>0);return a.sort((s,i)=>i._offlineScore-s._offlineScore),console.log(`Offline search: Found ${a.length} results matching "${t}"`),a.length>0&&(console.log("Offline search: Top results:"),a.slice(0,3).forEach((s,i)=>{console.log(`  ${i+1}. "${s.title}" (score: ${s._offlineScore}, title:${s._offlineMatches.title}, summary:${s._offlineMatches.summary}, metadata:${s._offlineMatches.metadata})`)})),a}function Y(){return window.aikbSearchCache&&Array.isArray(window.aikbSearchCache)?(console.log(`Offline search: Retrieved ${window.aikbSearchCache.length} cached results`),window.aikbSearchCache):(console.log("Offline search: No cached data available"),null)}var W=p(()=>{});var X=R(()=>{w();b();W();I();S();B();(function(){if(typeof window.$>"u"){console.warn("jQuery not loaded; search form handler disabled");return}let e=window.$("#policy-search-form"),l=window.$("#search");if(e.length===0){console.error("Form #policy-search-form not found");return}function o(){return{query:l.val()||"",area:window.$("#document_type").val()||""}}function n(i){i.preventDefault()}function a(){l.val(""),console.log("Search cleared - reloading initial results"),k()}e.on("submit",n),window.$("#clear-input").on("click",a),l.on("input",function(){let i=window.$("#clear-input");window.$(this).val().length>0?i.attr("hidden",!1):i.attr("hidden","")}),l.on("keydown",function(i){if(i.key==="Enter"||i.keyCode===13){i.preventDefault();let c=window.$(this).val();c.trim()?s(c):(console.log("Empty search via Enter - reloading initial results"),k())}});function s(i){if(!i.trim())return;console.log(`Triggered search for: "${i}"`);let c=Y();if(c&&c.length>0){console.log("Performing local search");let r=G(i,c);D(r),C(r),N(),y(r,"search-results-list");let m=x();A(m),console.log(`Local search: Displayed ${r.length} results`)}else{console.error("No cached data available for search");let r=window.$("#search-results-list");r.length>0&&r.html('<p class="aikb-error">Unable to load search results. Please check your connection and try again.</p>')}}console.log("Search form handler initialized")})()});var te=R(()=>{var Ee='div[data-hydration-component="squiz-call-to-action"] a';function ee(t=document){t.querySelectorAll(Ee).forEach(l=>{l.classList.add("ntgc-btn","ntgc-btn--primary")})}document.readyState==="loading"?document.addEventListener("DOMContentLoaded",()=>ee()):ee()});var ve=R(()=>{O();var Je=q(X());I();b();S();W();M();w();var et=q(te());B();console.log("[aikb] Landing page bundle loaded successfully");console.log("[aikb] jQuery available:",typeof window.jQuery<"u");console.log("[aikb] DOM ready state:",document.readyState);window.addEventListener("load",function(){Q(),console.log("[aikb] Applied filters initialized")})});ve();})();
//# sourceMappingURL=landing-page.min.js.map
