(()=>{var Pe=Object.create;var P=Object.defineProperty;var De=Object.getOwnPropertyDescriptor;var Re=Object.getOwnPropertyNames;var We=Object.getPrototypeOf,Oe=Object.prototype.hasOwnProperty;var b=(e,t)=>()=>(e&&(t=e(e=0)),t);var D=(e,t)=>()=>(t||e((t={exports:{}}).exports,t),t.exports),R=(e,t)=>{for(var s in t)P(e,s,{get:t[s],enumerable:!0})},Fe=(e,t,s,a)=>{if(t&&typeof t=="object"||typeof t=="function")for(let n of Re(t))!Oe.call(e,n)&&n!==s&&P(e,n,{get:()=>t[n],enumerable:!(a=De(t,n))||a.enumerable});return e};var se=(e,t,s)=>(s=e!=null?Pe(We(e)):{},Fe(t||!e||!e.__esModule?P(s,"default",{value:e,enumerable:!0}):s,e));function ie(){return window.location.hostname==="ntgcentral.nt.gov.au"}function v(){return{isProduction:ie(),liveApiUrl:"https://ntgcentral.nt.gov.au/services-and-support/ict-services-websites/artificial-intelligence/ai-knowledge-base/configuration/listing/articles/_nocache",fallbackJsonUrl:"./dist/search.json",workAreasUrl:ie()?"https://ntgcentral.nt.gov.au/services-and-support/ict-services-websites/artificial-intelligence/ai-knowledge-base/configuration/listing/work-areas/_nocache":"./src/data/work-areas.json"}}function oe(){let e=v();return e.isProduction?e.liveApiUrl:e.fallbackJsonUrl}function le(){let e=v();return e.isProduction?e.fallbackJsonUrl:null}function re(){return v().workAreasUrl}var ce,S=b(()=>{ce=new Set(["a","au","all","am","an","and","any","are","as","at","be","been","but","by","can","cant","co","com","de","do","eg","else","etc","for","from","get","go","had","has","hasnt","have","he","hence","her","here","hers","him","his","how","http","https","i","ie","if","in","is","it","its","la","me","my","nor","not","now","of","off","on","or","our","ours","pm","put","re","she","so","than","that","the","their","them","then","there","these","they","this","those","thus","to","too","uk","un","until","up","upon","us","very","via","was","we","well","were","what","when","where","which","while","who","why","www","you","your","yours"])});function He(e){let t=e.replace(/[^\w\s]/g," ").trim();return t?t.split(/\s+/).filter(n=>n.length>0).filter(n=>{let i=n.toLowerCase();return ce.has(i)?n===n.toUpperCase()&&n.length>=2:!0}).map(n=>n.toLowerCase()):[]}function $e(e){return e?e.toLowerCase().replace(/[^\w\s]/g," "):""}function W(e,t){if(!e||!t)return{fullWordMatches:0,partialMatches:0};let s=$e(e),a=new RegExp(`\\b${t}\\b`,"gi"),n=s.match(a),i=n?n.length:0,o=new RegExp(t,"gi"),l=s.match(o),r=l?l.length:0,c=Math.max(0,r-i);return{fullWordMatches:i,partialMatches:c}}function de(e){let t=[];return e.listMetadata&&(e.listMetadata["Work area"]&&t.push(...e.listMetadata["Work area"]),e.listMetadata.Roles&&t.push(...e.listMetadata.Roles),e.listMetadata.Benefits&&t.push(...e.listMetadata.Benefits)),t.join(" ")}function ze(e,t){let s=e.title||"",a=e.summary||"",n=de(e),i=W(s,t),o=W(a,t),l=W(n,t),r=i.fullWordMatches*5+i.partialMatches*2,c=o.fullWordMatches*2+o.partialMatches*1,u=l.fullWordMatches*3+l.partialMatches*1.5,d=r+c+u;return{titleTF:i.fullWordMatches+i.partialMatches,titleFullWord:i.fullWordMatches,titlePartial:i.partialMatches,summaryTF:o.fullWordMatches+o.partialMatches,summaryFullWord:o.fullWordMatches,summaryPartial:o.partialMatches,metadataTF:l.fullWordMatches+l.partialMatches,metadataFullWord:l.fullWordMatches,metadataPartial:l.partialMatches,titleScore:r,summaryScore:c,metadataScore:u,totalScore:d,hasMatch:d>0}}function qe(e){let t=(e.title||"").length,s=(e.summary||"").length,a=de(e).length;return t+s+a}function ue(e,t){if(!e||!t||t.length===0)return[];let s=He(e);if(s.length===0)return[];let n=t.map(i=>{let o=0,l=[],r={};s.forEach(d=>{let m=ze(i,d);m.hasMatch&&(l.push(d),o+=m.totalScore,r[d]=m)});let c=qe(i),u=c>0?o/c*1e3:0;return{...i,_offlineScore:u,_rawScore:o,_matchedTerms:l,_termScores:r,_docLength:c}}).filter(i=>i._matchedTerms.length>0);return n.sort((i,o)=>o._offlineScore-i._offlineScore),n}function he(){return window.aikbSearchCache&&Array.isArray(window.aikbSearchCache)?window.aikbSearchCache:null}var O=b(()=>{S()});var fe={};R(fe,{getCurrentPage:()=>Ue,getCurrentPageResults:()=>me,getTotalPages:()=>z,initializePagination:()=>Ve,updatePagination:()=>Qe});function Ve(e,t=10){$=e,_=t,H=e.length,p=1,je(),q()}function me(){let e=(p-1)*_,t=e+_;return $.slice(e,t)}function Ue(){return p}function z(){return Math.ceil(H/_)}function je(){if(f=document.getElementById("aikb-pagination"),!f){let e=document.getElementById("search-results-list");e&&e.parentNode&&(f=document.createElement("div"),f.id="aikb-pagination",f.className="aikb-pagination",e.parentNode.insertBefore(f,e.nextSibling))}}function q(){if(!f)return;let e=z();if(e<=1){f.innerHTML="",f.style.display="none";return}f.style.display="flex";let t=document.createElement("div");t.className="aikb-pagination__wrapper";let s=pe("Previous",p>1,()=>{p>1&&F(p-1)});t.appendChild(s);let a=Je(e);t.appendChild(a);let n=pe("Next",p<e,()=>{p<e&&F(p+1)});t.appendChild(n),f.innerHTML="",f.appendChild(t)}function pe(e,t,s){let a=document.createElement("div");a.className="aikb-pagination__control",t||a.classList.add("aikb-pagination__control--disabled");let n=document.createElement("div");if(n.className="aikb-pagination__icon-label",e==="Previous"){let o=document.createElement("span");o.className="fal fa-chevron-left",o.setAttribute("aria-hidden","true"),n.appendChild(o)}let i=document.createElement("span");if(i.className="aikb-pagination__text",i.textContent=e,n.appendChild(i),e==="Next"){let o=document.createElement("span");o.className="fal fa-chevron-right",o.setAttribute("aria-hidden","true"),n.appendChild(o)}return a.appendChild(n),t&&(a.addEventListener("click",s),a.style.cursor="pointer"),a}function Je(e){let t=document.createElement("div");return t.className="aikb-pagination__pages",Ke(p,e).forEach(a=>{if(a==="..."){let n=document.createElement("span");n.className="aikb-pagination__ellipsis",n.textContent="...",t.appendChild(n)}else{let n=document.createElement("div");n.className="aikb-pagination__page-number",a===p&&n.classList.add("aikb-pagination__page-number--active");let i=document.createElement("span");i.textContent=a,n.appendChild(i),n.addEventListener("click",()=>F(a)),n.style.cursor="pointer",t.appendChild(n)}}),t}function Ke(e,t){if(t<=7)return Array.from({length:t},(i,o)=>o+1);let s=[];s.push(1),e>3&&s.push("...");let a=Math.max(2,e-1),n=Math.min(t-1,e+1);for(let i=a;i<=n;i++)s.push(i);return e<t-2&&s.push("..."),s.push(t),s}function F(e){let t=z();if(e<1||e>t||e===p)return;p=e,q();let s=new CustomEvent("aikb-pagination-change",{detail:{page:p,results:me()}});document.dispatchEvent(s);let a=document.getElementById("search-results-list");if(a){let i=a.getBoundingClientRect().top+window.pageYOffset-100;window.scrollTo({top:i,behavior:"smooth"})}}function Qe(e){$=e,H=e.length,p=1,q()}var p,_,H,$,f,V=b(()=>{p=1,_=10,H=0,$=[],f=null});var be={};R(be,{renderResults:()=>B});function Ze(e){if(!e)return"";if(/^[A-Z][a-z]+ \d{4}$/.test(e))return e;try{let s=new Date(e);if(!isNaN(s.getTime()))return`${["January","February","March","April","May","June","July","August","September","October","November","December"][s.getMonth()]} ${s.getFullYear()}`}catch{}return e}function U(e,t){if(!e||!t||t.length===0)return e;let s=e;return[...t].sort((n,i)=>i.length-n.length).forEach(n=>{let i=new RegExp(`(?!<mark[^>]*>)(${n})(?![^<]*</mark>)`,"gi");s=s.replace(i,"<mark>$1</mark>")}),s}function j(e,t){e.innerHTML="";let a=new DOMParser().parseFromString(t,"text/html");Array.from(a.body.childNodes).forEach(n=>{e.appendChild(n.cloneNode(!0))})}function J(e){if(!e.title||!e.summary||!e.liveUrl)return null;let t=document.createElement("div");t.className="aikb-search-card";let s=e._offlineScore||(e.rank?-e.rank:e.score||0);t.setAttribute("data-sort-relevance",s),t.setAttribute("data-sort-title",e.title);let a=e.dateTimestamp||0;t.setAttribute("data-sort-date",a);let n=document.createElement("div");n.className="aikb-search-card__inner";let i=document.createElement("div");i.className="aikb-search-card__content";let o=document.createElement("div");o.className="aikb-search-card__text";let l=document.createElement("h3");if(l.className="aikb-search-card__title",e._matchedTerms&&e._matchedTerms.length>0){let h=U(e.title,e._matchedTerms);j(l,h)}else l.textContent=e.title;o.appendChild(l);let r=document.createElement("p");if(r.className="aikb-search-card__summary",e._matchedTerms&&e._matchedTerms.length>0){let h=U(e.summary,e._matchedTerms);j(r,h)}else r.textContent=e.summary;o.appendChild(r),i.appendChild(o);let c=e.listMetadata&&e.listMetadata["Work area"]?e.listMetadata["Work area"]:[];if(c&&c.length>0){let h=document.createElement("div");h.className="aikb-search-card__tags",c.forEach(g=>{if(g&&g.trim()){let y=document.createElement("div");y.className="aikb-search-card__tag",y.textContent=g.trim(),h.appendChild(y)}}),h.children.length>0&&i.appendChild(h)}n.appendChild(i);let u=document.createElement("div");u.className="aikb-search-card__actions";let d=document.createElement("a");d.href=e.liveUrl,d.className="ntgc-btn ntgc-btn--secondary";let m=document.createElement("span");m.textContent="See more",d.appendChild(m);let E=document.createElement("span");E.className="fal fa-long-arrow-right",E.setAttribute("aria-hidden","true"),d.appendChild(E),u.appendChild(d);let C=document.createElement("div");C.className="aikb-search-card__metadata";let T=e.listMetadata&&e.listMetadata.Roles?e.listMetadata.Roles:[];if(T&&T.length>0){let h=document.createElement("div");h.className="aikb-search-card__useful-for";let g=document.createElement("span");g.className="aikb-search-card__useful-value";let y=document.createElement("strong");y.textContent="Good for: ",g.appendChild(y);let ne=T.join(", ");if(e._matchedTerms&&e._matchedTerms.length>0){let I=U(ne,e._matchedTerms),ae=document.createElement("span");j(ae,I),Array.from(ae.childNodes).forEach(Ie=>{g.appendChild(Ie)})}else{let I=document.createTextNode(ne);g.appendChild(I)}h.appendChild(g),C.appendChild(h)}if(e.date){let h=document.createElement("div");h.className="aikb-search-card__date",h.textContent=`Last updated: ${Ze(e.date)}`,C.appendChild(h)}return u.appendChild(C),n.appendChild(u),t.appendChild(n),t}function B(e,t="search-results-list",s=!0){let a=document.getElementById(t);if(!a){let n=window.$?window.$(`#${t}`):null;a=n&&n.length>0?n[0]:null}if(a){if(a.innerHTML="",e.length===0){let n=document.createElement("p");n.textContent="No results found.",n.style.padding="24px 48px",a.appendChild(n);return}s?Promise.resolve().then(()=>(V(),fe)).then(({initializePagination:n,getCurrentPageResults:i})=>{n(e,10),i().map(r=>J(r)).filter(r=>r!==null).forEach(r=>a.appendChild(r))}):e.map(i=>J(i)).filter(i=>i!==null).forEach(i=>a.appendChild(i))}}var ge,x=b(()=>{window.aikbRenderResults=B;ge=!1;ge||(document.addEventListener("aikb-pagination-change",e=>{let{results:t}=e.detail,s=document.getElementById("search-results-list");s&&t&&(s.innerHTML="",t.map(n=>J(n)).filter(n=>n!==null).forEach(n=>s.appendChild(n)))}),ge=!0)});function ye(e){let t=typeof e=="string"?document.querySelector(e):e;return t?new K(t):null}var K,Q=b(()=>{K=class{constructor(t){this.selectElement=t,this.options=[],this.selectedValues=new Set,this.tempSelectedValues=new Set,this.isOpen=!1,this.container=null,this.displayButton=null,this.dropdownPanel=null,this._boundHandlers={},this.init()}init(){this.selectElement.style.display="none",this.createDropdownStructure(),this.selectAllByDefault(),this.bindEvents(),this.container.__multiSelectInstance=this}selectAllByDefault(){this.options.forEach(t=>{let s=Array.from(this.selectElement.options).find(a=>a.value===t.value);s&&!s.disabled&&this.selectedValues.add(t.value)}),this.syncNativeSelect(),this.updateDisplayText(),this.tempSelectedValues=new Set(this.selectedValues)}createDropdownStructure(){this.container=document.createElement("div"),this.container.className="aikb-multiselect-container",this.displayButton=document.createElement("button"),this.displayButton.type="button",this.displayButton.className="aikb-multiselect-button",this.displayButton.innerHTML=`
      <span class="aikb-multiselect-text">Select Options</span>
      <span class="aikb-multiselect-icon"></span>
    `,this.dropdownPanel=document.createElement("div"),this.dropdownPanel.className="aikb-multiselect-panel",this.dropdownPanel.style.display="none";let t=document.createElement("div");t.className="aikb-multiselect-options";let s=this.createOptionItem({value:"_select_all",label:"Select All",isSelectAll:!0});t.appendChild(s),Array.from(this.selectElement.options).forEach(o=>{if(!o.disabled&&o.value){this.options.push({value:o.value,label:o.textContent});let l=this.createOptionItem({value:o.value,label:o.textContent});t.appendChild(l)}});let a=document.createElement("div");a.className="aikb-multiselect-actions";let n=document.createElement("button");n.type="button",n.className="aikb-multiselect-btn aikb-multiselect-btn-ok",n.textContent="OK",this._boundHandlers.okClick=()=>this.handleOk(),n.addEventListener("click",this._boundHandlers.okClick);let i=document.createElement("button");i.type="button",i.className="aikb-multiselect-btn aikb-multiselect-btn-cancel",i.textContent="Cancel",this._boundHandlers.cancelClick=()=>this.handleCancel(),i.addEventListener("click",this._boundHandlers.cancelClick),a.appendChild(n),a.appendChild(i),this.dropdownPanel.appendChild(t),this.dropdownPanel.appendChild(a),this._boundHandlers.checkboxChange=o=>{o.target.classList.contains("aikb-multiselect-checkbox")&&(o.target.value==="_select_all"?this.handleSelectAll(o):this.updateSelectAllState())},this.dropdownPanel.addEventListener("change",this._boundHandlers.checkboxChange),this.container.appendChild(this.displayButton),this.container.appendChild(this.dropdownPanel),this.selectElement.parentNode.insertBefore(this.container,this.selectElement.nextSibling)}createOptionItem(t){let s=document.createElement("label");s.className="aikb-multiselect-option",t.isSelectAll&&s.classList.add("aikb-multiselect-option-all");let a=document.createElement("input");a.type="checkbox",a.className="aikb-multiselect-checkbox",a.value=t.value,a.dataset.label=t.label;let n=document.createElement("span");return n.className="aikb-multiselect-label",n.textContent=t.label,s.appendChild(a),s.appendChild(n),s}bindEvents(){this._boundHandlers.displayClick=t=>{t.stopPropagation(),this.toggle()},this.displayButton.addEventListener("click",this._boundHandlers.displayClick),this._boundHandlers.documentClick=t=>{this.container&&!this.container.contains(t.target)&&this.isOpen&&this.handleCancel()},document.addEventListener("click",this._boundHandlers.documentClick)}toggle(){!this.container||!this.dropdownPanel||(this.isOpen?this.close():this.open())}open(){!this.container||!this.dropdownPanel||(this.isOpen=!0,this.dropdownPanel.style.display="block",this.displayButton.classList.add("aikb-multiselect-open"),this.tempSelectedValues=new Set(this.selectedValues),this.updateCheckboxes())}close(){!this.container||!this.dropdownPanel||(this.isOpen=!1,this.dropdownPanel.style.display="none",this.displayButton.classList.remove("aikb-multiselect-open"))}handleOk(){if(!this.container||!this.dropdownPanel)return;let t=this.dropdownPanel.querySelectorAll('.aikb-multiselect-checkbox:not([value="_select_all"])');this.selectedValues.clear(),t.forEach(s=>{s.checked&&this.selectedValues.add(s.value)}),this.syncNativeSelect(),this.updateDisplayText(),this.triggerChange(),this.close()}handleCancel(){!this.container||!this.dropdownPanel||(this.tempSelectedValues=new Set(this.selectedValues),this.updateCheckboxes(),this.close())}handleSelectAll(t){if(!this.container||!this.dropdownPanel)return;let s=t.target.checked;this.dropdownPanel.querySelectorAll('.aikb-multiselect-checkbox:not([value="_select_all"])').forEach(n=>{n.disabled||(n.checked=s)})}updateSelectAllState(){if(!this.container||!this.dropdownPanel)return;let t=this.dropdownPanel.querySelector('.aikb-multiselect-checkbox[value="_select_all"]'),s=this.dropdownPanel.querySelectorAll('.aikb-multiselect-checkbox:not([value="_select_all"])'),a=Array.from(s).filter(i=>!i.disabled),n=a.filter(i=>i.checked).length;t&&(t.checked=a.length>0&&n===a.length,t.indeterminate=n>0&&n<a.length)}updateCheckboxes(){if(!this.container||!this.dropdownPanel)return;this.dropdownPanel.querySelectorAll('.aikb-multiselect-checkbox:not([value="_select_all"])').forEach(s=>{s.checked=this.tempSelectedValues.has(s.value)}),this.updateSelectAllState()}updateDisplayText(){if(!this.container||!this.dropdownPanel)return;let t=this.displayButton.querySelector(".aikb-multiselect-text");if(this.selectedValues.size===0)t.textContent="Select Options",t.classList.remove("aikb-multiselect-has-selection");else if(this.selectedValues.size===this.options.length)t.textContent="All selected",t.classList.add("aikb-multiselect-has-selection");else if(this.selectedValues.size===1){let s=Array.from(this.selectedValues).map(a=>{let n=this.options.find(i=>i.value===a);return n?n.label:a});t.textContent=s[0],t.classList.add("aikb-multiselect-has-selection")}else t.textContent=`${this.selectedValues.size} selected`,t.classList.add("aikb-multiselect-has-selection")}triggerChange(){if(!this.container||!this.dropdownPanel)return;let t=new CustomEvent("multiselect-change",{detail:{values:Array.from(this.selectedValues)}});if(this.container.dispatchEvent(t),this.selectElement){let s=new Event("change",{bubbles:!0});this.selectElement.dispatchEvent(s)}}syncNativeSelect(){this.selectElement&&(Array.from(this.selectElement.options).forEach(t=>{t.selected=!1}),Array.from(this.selectElement.options).forEach(t=>{this.selectedValues.has(t.value)&&(t.selected=!0)}))}getSelectedValues(){return Array.from(this.selectedValues)}reset(){this.selectedValues.clear(),this.tempSelectedValues.clear(),this.updateDisplayText(),this.updateCheckboxes()}updateCounts(t){if(!this.container||!this.dropdownPanel)return;Array.from(this.selectElement.options).forEach(a=>{if(a.value&&t.has(a.value)){let n=t.get(a.value),i=a.textContent.replace(/\s*\(\d+\)\s*$/,"");n>0?(a.textContent=`${i} (${n})`,a.disabled=!1):(a.textContent=i,a.disabled=!0,a.selected=!1)}}),this.dropdownPanel.querySelectorAll('.aikb-multiselect-checkbox:not([value="_select_all"])').forEach(a=>{let n=a.value;if(t.has(n)){let i=t.get(n),o=a.parentElement,l=o.querySelector(".aikb-multiselect-label");if(l){let r=l.querySelector(".aikb-count-badge");r&&r.remove();let c=l.textContent.replace(/\s*\(\d+\)\s*$/,"").trim();l.textContent=c;let u=document.createElement("span");if(u.className="aikb-count-badge",u.textContent=i.toString(),l.appendChild(u),i===0){a.disabled=!0,a.checked=!1,o.classList.add("aikb-multiselect-option-disabled"),this.selectedValues.delete(n),this.tempSelectedValues.delete(n);let d=this.options.findIndex(m=>m.value===n);d!==-1&&(this.options[d].label=`${c} (${i})`)}else{a.disabled=!1,o.classList.remove("aikb-multiselect-option-disabled");let d=this.options.findIndex(m=>m.value===n);d!==-1&&(this.options[d].label=`${c} (${i})`)}}}}),this.syncNativeSelect(),this.updateDisplayText()}destroy(){this._boundHandlers&&(this._boundHandlers.documentClick&&document.removeEventListener("click",this._boundHandlers.documentClick),this.displayButton&&this._boundHandlers.displayClick&&this.displayButton.removeEventListener("click",this._boundHandlers.displayClick),this.dropdownPanel&&this._boundHandlers.checkboxChange&&this.dropdownPanel.removeEventListener("change",this._boundHandlers.checkboxChange)),this.isOpen=!1,this.container&&this.container.parentNode&&this.container.parentNode.removeChild(this.container),this.selectElement&&(this.selectElement.style.display=""),this.container=null,this.displayButton=null,this.dropdownPanel=null,this._boundHandlers=null}}});function Ge(e){let t=new Set;return e.forEach(s=>{if(s.listMetadata&&s.listMetadata["Work area"]){let a=s.listMetadata["Work area"];Array.isArray(a)&&a.forEach(n=>{let i=n.trim();i&&t.add(i)})}}),Array.from(t).sort((s,a)=>s==="All work areas"?-1:a==="All work areas"?1:s.localeCompare(a))}function Ye(e,t){let s=new Map;return e.forEach(a=>{s.set(a,0)}),t.forEach(a=>{if(a.listMetadata&&a.listMetadata["Work area"]){let n=a.listMetadata["Work area"];Array.isArray(n)&&n.forEach(i=>{let o=i.trim();o&&s.has(o)&&s.set(o,s.get(o)+1)})}}),s.has("All work areas")&&s.set("All work areas",t.length),s}function ke(e){Z=e}function Xe(e){let t=document.getElementById("document_type");if(!t)return;t.innerHTML="";let s=document.createElement("option");s.value="",s.textContent="Select a work area",s.disabled=!0,s.selected=!0,t.appendChild(s),e.forEach(a=>{let n=document.createElement("option");n.value=a,n.textContent=a,t.appendChild(n)}),k&&(k.destroy(),k=null),(!t.nextElementSibling||!t.nextElementSibling.classList.contains("aikb-multiselect-container"))&&(k=ye(t))}function et(){let e=document.getElementById("select-question-3");if(!e)return;let t=document.getElementById("owner");if(t)t.innerHTML="";else{let a=e.querySelector("label");if(e.innerHTML="",a)e.appendChild(a);else{let o=document.createElement("label");o.className="ntgc-form-input--label",o.setAttribute("for","select-input-2"),o.textContent="Sort",e.appendChild(o)}let n=document.createElement("div");n.className="aikb-dropdown-wrapper";let i=document.createElement("div");i.className="aikb-dropdown-inner",t=document.createElement("select"),t.name="sort",t.className="ntgc-select ntgc-select--block ntgc-select-input--filter",t.id="owner",i.appendChild(t),n.appendChild(i),e.appendChild(n)}[{value:"relevance",label:"Relevance",selected:!0},{value:"date-newest",label:"Date (newest first)"},{value:"date-oldest",label:"Date (oldest first)"},{value:"title-az",label:"Title (A-Z)"},{value:"title-za",label:"Title (Z-A)"}].forEach(a=>{let n=document.createElement("option");n.value=a.value,n.textContent=a.label,a.selected&&(n.selected=!0),t.appendChild(n)})}function tt(){let e=document.getElementById("document_type");if(e&&!e.parentElement.querySelector(".aikb-dropdown-icon")){let s=document.createElement("div");s.className="aikb-dropdown-icon",s.setAttribute("data-colour","NTG Blue");let a=e.closest(".aikb-dropdown-wrapper");if(a){let n=a.querySelector(".aikb-dropdown-inner");n&&n.appendChild(s)}}let t=document.getElementById("owner");if(t&&!t.parentElement.querySelector(".aikb-dropdown-icon")){let s=document.createElement("div");s.className="aikb-dropdown-icon",s.setAttribute("data-colour","NTG Blue");let a=t.closest(".aikb-dropdown-wrapper");if(a){let n=a.querySelector(".aikb-dropdown-inner");n&&n.appendChild(s)}}}function we(e,t=null){let s;t&&t.length>0?s=t:Z.length>0?s=Z:s=Ge(e),Xe(s);let a=Ye(s,e);k&&k.updateCounts(a),et(),tt()}var k,Z,G=b(()=>{Q();k=null,Z=[]});function Ce(e){let t=document.getElementById("appliedFiltersSection"),s=document.getElementById("appliedFilters"),a=document.getElementById("clearAllBtn");if(!t||!s)return;s.innerHTML="";let n=!1;if(e.searchQuery&&e.searchQuery.trim()){n=!0;let i=Ee("Search",e.searchQuery,"bg-success","search");s.appendChild(i)}e.workAreas&&e.workAreas.length>0&&(nt(e.workAreas)||(n=!0,e.workAreas.forEach(o=>{let l=Ee("Work area",o,"bg-primary","work-area",o);s.appendChild(l)}))),a&&(a.style.display=n?"inline-flex":"none",a.style.marginLeft="8px",a.style.verticalAlign="middle",a.style.alignItems="center",s.appendChild(a)),t.style.display=n?"block":"none"}function nt(e){let t=document.getElementById("document_type");if(!t)return!1;let s=Array.from(t.options).filter(a=>!a.disabled&&a.value).length;return e.length===s}function Ee(e,t,s,a,n){let i=document.createElement("span");i.className=`badge ${s} filter-pill d-inline-flex align-items-center`;let o=document.createElement("span");o.className="pill-label",o.textContent=`${e}:`;let l=document.createElement("span");l.className="pill-value",l.textContent=t;let r=document.createElement("button");r.type="button",r.className="pill-remove",r.title=`Remove ${e}: ${t}`,r.setAttribute("data-filter-type",a),n&&r.setAttribute("data-filter-value",n);let c=document.createElement("span");return c.className="fas fa-times",r.appendChild(c),r.addEventListener("click",u=>{u.preventDefault(),at(a,n)}),i.appendChild(o),i.appendChild(l),i.appendChild(r),i}async function at(e,t){switch(e){case"search":let s=document.getElementById("search");if(s){s.value="";let{loadInitialResults:n}=await Promise.resolve().then(()=>(A(),X));n()}break;case"work-area":let a=document.getElementById("document_type");if(a&&t){let n=Array.from(a.options).find(l=>l.value===t);n&&(n.selected=!1);let i=new Event("change",{bubbles:!0});a.dispatchEvent(i);let o=a.nextElementSibling;if(o&&o.classList.contains("aikb-multiselect-container")){let l=o.__multiSelectInstance;l&&(l.selectedValues.delete(t),l.syncNativeSelect(),l.updateDisplayText(),l.triggerChange())}}break}}async function st(){let e=document.getElementById("search");e&&(e.value="");let t=document.getElementById("document_type");if(t){Array.from(t.options).forEach(i=>{!i.disabled&&i.value&&(i.selected=!0)});let n=t.nextElementSibling;if(n&&n.classList.contains("aikb-multiselect-container")){let i=n.__multiSelectInstance;i&&typeof i.selectAllByDefault=="function"&&(i.selectAllByDefault(),i.triggerChange())}}let s=document.getElementById("appliedFiltersSection");s&&(s.style.display="none");let{loadInitialResults:a}=await Promise.resolve().then(()=>(A(),X));a()}function ve(){let e=document.getElementById("clearAllBtn");e&&e.addEventListener("click",t=>{t.preventDefault(),st()})}function xe(){let e=document.getElementById("search"),t=document.getElementById("document_type"),s=document.getElementById("sort")||document.getElementById("owner"),a={searchQuery:e?e.value:"",workAreas:[],sort:s?s.value:"relevance"};if(t){let n=Array.from(t.selectedOptions||[]);a.workAreas=n.map(i=>i.value).filter(i=>i&&i.trim().length>0)}return a}var Y=b(()=>{});function L(e){let t=new Set,s=[];e.forEach((a,n)=>{let i=a.liveUrl||a.url||a.title||JSON.stringify(a)+n;t.has(i)||(t.add(i),s.push(a))}),te=s}function it(e){if(!e||e.length===0)return te;let t=new Set,s=[];return te.forEach((a,n)=>{if(!a.listMetadata||!a.listMetadata["Work area"])return;let i=a.listMetadata["Work area"];if(e.some(l=>i.includes(l))){let l=a.liveUrl||a.url||a.title||JSON.stringify(a)+n;t.has(l)||(t.add(l),s.push(a))}}),s}function ot(e,t){let s=[...e];switch(t){case"relevance":s.sort((a,n)=>a.rank&&n.rank?a.rank-n.rank:a.score&&n.score?n.score-a.score:0);break;case"date-newest":s.sort((a,n)=>{let i=a.dateTimestamp||0;return(n.dateTimestamp||0)-i});break;case"date-oldest":s.sort((a,n)=>{let i=a.dateTimestamp||0,o=n.dateTimestamp||0;return i-o});break;case"title-az":s.sort((a,n)=>{let i=a.title||"",o=n.title||"";return i.localeCompare(o)});break;case"title-za":s.sort((a,n)=>{let i=a.title||"";return(n.title||"").localeCompare(i)});break;default:break}return s}function lt(e){let t=document.getElementById("search-results-list");if(!t)return;let s=Array.from(t.querySelectorAll(".aikb-search-card"));s.sort((a,n)=>{switch(e){case"relevance":let i=parseFloat(a.getAttribute("data-sort-relevance"))||0;return(parseFloat(n.getAttribute("data-sort-relevance"))||0)-i;case"date-newest":let l=parseFloat(a.getAttribute("data-sort-date"))||0;return(parseFloat(n.getAttribute("data-sort-date"))||0)-l;case"date-oldest":let c=parseFloat(a.getAttribute("data-sort-date"))||0,u=parseFloat(n.getAttribute("data-sort-date"))||0;return c-u;case"title-az":let d=a.getAttribute("data-sort-title")||"",m=n.getAttribute("data-sort-title")||"";return d.localeCompare(m);case"title-za":let E=a.getAttribute("data-sort-title")||"";return(n.getAttribute("data-sort-title")||"").localeCompare(E);default:return 0}}),s.forEach(a=>t.appendChild(a))}async function w(){if(!ee){ee=!0;try{let e=document.getElementById("document_type"),t=document.getElementById("sort")||document.getElementById("owner");if(!e||!t)return;let s=[];e&&(s=Array.from(e.selectedOptions||[]).map(c=>c.value).filter(c=>c&&c.trim().length>0));let a=t.value||"relevance",n=it(s),i=ot(n,a),{renderResults:o}=await Promise.resolve().then(()=>(x(),be));o(i,"search-results-list"),lt(a);let l=xe();Ce(l)}finally{ee=!1}}}function Se(){if(Ae)return;let e=document.getElementById("document_type"),t=document.getElementById("sort")||document.getElementById("owner");if(e){e.addEventListener("change",function(){w()});let s=e.nextElementSibling;s&&s.classList.contains("aikb-multiselect-container")&&s.addEventListener("multiselect-change",()=>{w()}),typeof window.$<"u"&&window.$(e).on("sumo:closed",function(){w()})}t&&t.addEventListener("change",function(){w()}),Ae=!0}var te,ee,Ae,M=b(()=>{Y();te=[];ee=!1;Ae=!1});var X={};R(X,{loadInitialResults:()=>N});async function rt(){let e=re();try{let t=await fetch(e);if(!t.ok)throw new Error(`HTTP error! status: ${t.status}`);let s=await t.json();return Array.isArray(s)?s:[]}catch{return null}}function N(){if(!document.getElementById("search-results-list"))return;let t=v(),s=oe(),a=le();rt().then(n=>{n&&(Le=n,ke(n))}),fetch(s).then(n=>{if(!n.ok)throw new Error(`HTTP error! status: ${n.status}`);return n.json()}).then(n=>{Be(n,t.isProduction?"live-api":"local")}).catch(n=>{a?fetch(a).then(i=>{if(!i.ok)throw new Error(`HTTP error! status: ${i.status}`);return i.json()}).then(i=>{Be(i,"fallback")}).catch(i=>{_e()}):_e()})}function _e(){let e=document.getElementById("search-results-list");e&&(e.innerHTML='<p class="aikb-error">Unable to load search results. Please check your connection and try again later.</p>')}function Be(e,t="unknown"){let a=(Array.isArray(e)?e:[]).map(o=>{let l=o["last-updated"]?new Date(o["last-updated"]).getTime():0;return{title:o.title||"",summary:o.description||o.summary||"",listMetadata:{"Work area":o["work-area"]||[],Roles:o.roles||[],Benefits:o.benefits||[]},date:o["last-updated"]?new Date(o["last-updated"]).toLocaleDateString("en-AU",{year:"numeric",month:"long"}):"",dateTimestamp:l,liveUrl:o.url||o.liveUrl||"",submittedBy:o["submitted-by"]||"",rank:o.rank||0,score:o.score||0}}),n=new Set,i=[];a.forEach((o,l)=>{let r=o.liveUrl||o.url||o.title||JSON.stringify(o)+l;n.has(r)||(n.add(r),i.push(o))}),L(i),window.aikbSearchCache=i,we(i,Le),Se(),B(i,"search-results-list")}var Le,A=b(()=>{x();G();M();S();Le=null;window.addEventListener("load",function(){setTimeout(N,200)})});var Me=D(()=>{O();A();x();M();window.addEventListener("DOMContentLoaded",function(){let e=document.getElementById("search");e&&e.addEventListener("keydown",function(t){if(t.key==="Enter"){t.preventDefault();let s=e.value.trim();if(s==="")N();else{let a=he();if(a&&a.length>0){let n=ue(s,a);L(n),w()}else{let n=window.$("#search-results-list");n&&n.length>0&&n.html('<p class="aikb-error">Unable to load search results. Please check your connection and try again.</p>')}}}})})});var Te=D(()=>{var ct='div[data-hydration-component="squiz-call-to-action"] a';function Ne(e=document){e.querySelectorAll(ct).forEach(s=>{s.classList.add("ntgc-btn","ntgc-btn--primary")})}document.readyState==="loading"?document.addEventListener("DOMContentLoaded",()=>Ne()):Ne()});var dt=D(()=>{S();var Dt=se(Me());M();x();G();O();Q();A();var zt=se(Te());V();Y();window.addEventListener("load",function(){ve()})});dt();})();
//# sourceMappingURL=landing-page.min.js.map
